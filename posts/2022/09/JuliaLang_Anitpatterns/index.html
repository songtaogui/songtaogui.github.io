
<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="sKCEBeALSs13uui0cWMviq9hlm0rPByKQKNHnOdq-d0" />
    <meta name="baidu-site-verification" content="code-MBwKQgVpns" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Songtao Gui">

    
    <meta name="description" content="ä½é…ç¿»è¯‘Juliaå¤§ä½¬Framesçš„åšå®¢.
">
    

    
    
    <meta name="keywords" content="Juliaä¸­çš„åæ¨¡å¼">
    <title>Juliaä¸­çš„åæ¨¡å¼</title>
    

    <link rel="icon" href="/assets/favicon.svg">

    
<link rel=preconnect href="https://fonts.gstatic.com" crossorigin=anonymous>
<link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    crossorigin=anonymous>
<link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"
    crossorigin=anonymous>
<link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" crossorigin=anonymous>
<link rel=stylesheet
    href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"
    crossorigin=anonymous>
<!-- locally served -->
<link rel="stylesheet" href="/css/pure.css">
<link rel=stylesheet href="/libs/academic/academic.min.css">
<link rel="stylesheet" href="/css/layout.css">
<link rel="stylesheet" href="/css/extra.css">
<link rel=stylesheet href="/css/codeset.css">
<link rel=stylesheet href="/css/admonition.css">
<link rel=stylesheet href="/css/cv.css">
<link rel=stylesheet href="/css/search-box.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
<link rel=stylesheet href="/css/vega.css">
<!-- <link rel=stylesheet href="/css/font-awesome.css"> -->

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!-- nutshell + highlight + katex + plotly -->

<link rel=stylesheet href="/libs/highlight/styles/atom-one-light.min.css">






    <!-- Vega -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.0/dist/svg.min.js"></script>
    <style media="screen">
        /* Add space between Vega-Embed links  */
        .vega-actions a {
          margin-right: 5px;
        }
    </style>
    <!-- end Vega -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js"
        integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script>
</head>

<body id=top data-spy="scroll" data-offset="70" data-target=#navbar-main>
    <!-- Swiftype -->
    <script type="text/javascript">
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
        (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
        
        _st('install','J57vdqtTa8oYL-ikpKNG','2.0.0');
    </script>
    
     <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main>
    <div class=container>
        <!-- Main name -->
        <div class="d-none d-lg-inline-flex">
            <a class=navbar-brand href="/">Songtao Gui</a>
        </div>
        <!-- Button for narrow mode -->
        <button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar
            aria-expanded=false aria-label="Toggle navigation">
            <span><i class="fas fa-bars"></i></span>
        </button>
        <!-- Main name for mobile mode -->
        <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
            <a class=navbar-brand href="/">Songtao Gui</a>
        </div>
        <!-- Menu items -->
        <div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content>
            <ul class="navbar-nav d-md-inline-flex">
                <li class=nav-item><a class=nav-link href="/posts/"><span>Posts</span></a></li>
                <li class=nav-item><a class=nav-link href="/courses/"><span>Courses</span></a></li>
                <li class=nav-item><a class=nav-link href="/notebooks/"><span>Notebooks</span></a></li>
                <li class=nav-item><a class=nav-link href="/cv/"><span>CurriculumVitae</span></a></li>
                <li class=nav-item><a class=nav-link href="/tag/"><span>Tags</span></a></li>
            </ul>
        </div>
        <!-- <div class="nav-linksmall d-none d-lg-inline-flex inputBox">
                <input type="text" class="st-default-search-input" placeholder="Input then press ENTER" value="" required>
                <div class="search"></div>
            <script>
                var searchForm = document.getElementById('searchForm');
                searchForm.onsubmit = function () {
                    var url = this.action;
                    var q = this.children['q'].value;
                    var q = 'site:songtaogui.github.io+' + q
                    // var site = this.children['site'].value;
                    var url = url + '?q=' + q;
                    window.open(url,'__blank');
                    return false;
                };
            </script>
        </div> -->
        <!-- åŸºäºbing siteæœç´¢: -->
        <div class="nav-linksmall d-none d-lg-inline-flex inputBox">
            <form action="https://bing.com/search" id="searchForm">
                <input type="text" name="q" value="" placeholder="Input then press ENTER" value="" required>
                <div class="search"></div>
            </form>
            <script>
                var searchForm = document.getElementById('searchForm');
                searchForm.onsubmit = function () {
                    var url = this.action;
                    var q = this.children['q'].value;
                    var q = 'site:songtaogui.github.io+' + q
                    // var site = this.children['site'].value;
                    var url = url + '?q=' + q;
                    window.open(url,'__blank');
                    return false;
                };
            </script>
        </div>
        <!-- <div class="nav-icon d-none d-lg-inline-flex"> -->
        <div class="nav-icon">
            <a class=nav-linksmall href="/giants" target="_blank"><span><img class="nav-img"
                src="/assets/img/giant.svg"></span></a>
            <a class=nav-linksmall href="/achievements/" target="_blank"><span><img class="nav-img"
                        src="/assets/img/achievement.svg"></span></a>
            <a class=nav-linksmall href="/feed.xml" target="_blank"><span><img class="nav-img"
                        src="/assets/img/rss.svg"></span></a>
            <a class=nav-linksmall href="/musics" target="_blank"><span><img class="nav-img"
                        src="/assets/img/music.svg"></span></a>
        </div>

    </div>
</nav> 

    <span class="js-widget-page d-none"></span>

    
    <article class=article>
        <div class="article-container pt-3">
             <h1>Juliaä¸­çš„åæ¨¡å¼</h1> 
        </div>
        
        <div class="article-container">
            <!-- å…³é—­article-style, ä¸ç„¶è·Ÿnutshellä¸å…¼å®¹ -->
            <!-- <div class="gst-style"> -->
            <div class="layout-main">
                <!-- <div class="article-style"> -->
                
                
                <div class="franklin-content">
<div class="tags"><a href="/tag/" id="tag-icon"><svg width="20" height="20" viewBox="0 0 512 512"><defs><style>.cls-1{fill:#141f38}</style></defs><path class="cls-1" d="M215.8 512a76.1 76.1 0 0 1-54.17-22.44L22.44 350.37a76.59 76.59 0 0 1 0-108.32L242 22.44A76.11 76.11 0 0 1 296.2 0h139.2A76.69 76.69 0 0 1 512 76.6v139.19A76.08 76.08 0 0 1 489.56 270L270 489.56A76.09 76.09 0 0 1 215.8 512zm80.4-486.4a50.69 50.69 0 0 0-36.06 14.94l-219.6 219.6a51 51 0 0 0 0 72.13l139.19 139.19a51 51 0 0 0 72.13 0l219.6-219.61a50.67 50.67 0 0 0 14.94-36.06V76.6a51.06 51.06 0 0 0-51-51zm126.44 102.08A38.32 38.32 0 1 1 461 89.36a38.37 38.37 0 0 1-38.36 38.32zm0-51a12.72 12.72 0 1 0 12.72 12.72 12.73 12.73 0 0 0-12.72-12.76z"/><path class="cls-1" d="M217.56 422.4a44.61 44.61 0 0 1-31.76-13.16l-83-83a45 45 0 0 1 0-63.52L211.49 154a44.91 44.91 0 0 1 63.51 0l83 83a45 45 0 0 1 0 63.52L249.31 409.24a44.59 44.59 0 0 1-31.75 13.16zm-96.7-141.61a19.34 19.34 0 0 0 0 27.32l83 83a19.77 19.77 0 0 0 27.31 0l108.77-108.7a19.34 19.34 0 0 0 0-27.32l-83-83a19.77 19.77 0 0 0-27.31 0l-108.77 108.7z"/><path class="cls-1" d="M294.4 281.6a12.75 12.75 0 0 1-9-3.75l-51.2-51.2a12.8 12.8 0 0 1 18.1-18.1l51.2 51.2a12.8 12.8 0 0 1-9.05 21.85zM256 320a12.75 12.75 0 0 1-9.05-3.75l-51.2-51.2a12.8 12.8 0 0 1 18.1-18.1l51.2 51.2A12.8 12.8 0 0 1 256 320zM217.6 358.4a12.75 12.75 0 0 1-9-3.75l-51.2-51.2a12.8 12.8 0 1 1 18.1-18.1l51.2 51.2a12.8 12.8 0 0 1-9.05 21.85z"/></svg></a><a href="/tag/hack/">hack</a>, <a href="/tag/julia/">julia</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="tag-icon"><svg width="20" height="20" class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="3825" width="64" height="64"><path d="M512 416a96 96 0 1 0 0 192 96 96 0 0 0 0-192z m511.952 102.064c-0.016-0.448-0.064-0.864-0.096-1.296a8.16 8.16 0 0 0-0.08-0.656c0-0.32-0.064-0.624-0.128-0.928-0.032-0.368-0.064-0.736-0.128-1.088-0.032-0.048-0.032-0.096-0.032-0.144a39.488 39.488 0 0 0-10.704-21.536c-32.672-39.616-71.536-74.88-111.04-107.072-85.088-69.392-182.432-127.424-289.856-150.8-62.112-13.504-124.576-14.064-187.008-2.64-56.784 10.384-111.504 32-162.72 58.784-80.176 41.92-153.392 99.696-217.184 164.48-11.808 11.984-23.552 24.224-34.288 37.248-14.288 17.328-14.288 37.872 0 55.216 32.672 39.616 71.52 74.848 111.04 107.056 85.12 69.392 182.448 127.408 289.888 150.784 62.096 13.504 124.608 14.096 187.008 2.656 56.768-10.4 111.488-32 162.736-58.768 80.176-41.936 153.376-99.696 217.184-164.48 11.792-12 23.536-24.224 34.288-37.248 5.712-5.872 9.456-13.44 10.704-21.568l0.032-0.128a12.592 12.592 0 0 0 0.128-1.088c0.064-0.304 0.096-0.624 0.128-0.928l0.08-0.656 0.096-1.28c0.032-0.656 0.048-1.296 0.048-1.952l-0.096-1.968zM512 704c-106.032 0-192-85.952-192-192s85.952-192 192-192 192 85.968 192 192c0 106.048-85.968 192-192 192z" p-id="3826"></path></svg></a><span id="busuanzi_value_page_pv"></span></div>
<blockquote>
<p>åŸæ–‡åœ°å€: <a href="https://www.oxinabox.net/2020/04/19/Julia-Antipatterns.html">HERE</a></p>
</blockquote>

<fieldset class="hadmon admon-hack"><legend class="hadmon-legend admon-legend-hack"> ä»€ä¹ˆæ˜¯"åæ¨¡å¼"</legend>
  &quot;åæ¨¡å¼&quot;æ˜¯éšç€&quot;è®¾è®¡æ¨¡å¼&quot;çš„æ¦‚å¿µè€Œå‡ºç°çš„è¯, æŒ‡<span class="cadmon sadmon-warn">åœ¨å®è·µä¸­æ˜æ˜¾å‡ºç°, ä½†ä½æ•ˆæˆ–æœ‰å¾…ä¼˜åŒ–çš„è®¾è®¡æ¨¡å¼, æ˜¯ç”¨æ¥è§£å†³é—®é¢˜çš„å¸¦æœ‰å…±æ€§çš„ä¸è‰¯æ–¹æ³•</span>&#40;å‚è€ƒ<a href="https://zh.m.wikipedia.org/zh-hans/&#37;E5&#37;8F&#37;8D&#37;E9&#37;9D&#37;A2&#37;E6&#37;A8&#37;A1&#37;E5&#37;BC&#37;8F">WIKI</a>å®šä¹‰&#41;ã€‚ 
</fieldset>

<p>è¿™ç¯‡åšæ–‡ä¸­, ä½œè€…ä¸»è¦åˆ—ä¸¾äº†Juliaä¸­å››å¤§åæ¨¡å¼:<sup id="fnref:1"><a href="#fndef:1" class="fnref">[1]</a></sup></p>
<div class="franklin-toc"><ol><li><a href="#æœªå®ç°å¼‚å¸¸notimplemented_exceptions">æœªå®ç°å¼‚å¸¸&#40;NotImplemented Exceptions&#41;</a></li><li><a href="#å®ç¼–ç¨‹çš„æ»¥ç”¨">å®ç¼–ç¨‹çš„æ»¥ç”¨</a></li><li><a href="#å“ˆå¸Œå­—å…¸çš„è¯¯ç”¨">å“ˆå¸Œ/å­—å…¸çš„è¯¯ç”¨</a></li><li><a href="#è¿‡åº¦ç±»å‹æ ‡æ³¨">è¿‡åº¦ç±»å‹æ ‡æ³¨</a></li></ol></div>
<p>æ¥ä¸‹æ¥å°†ä¸€ä¸€ä»‹ç»ã€‚</p>
<h2 id="æœªå®ç°å¼‚å¸¸notimplemented_exceptions"><a href="#æœªå®ç°å¼‚å¸¸notimplemented_exceptions" class="header-anchor">æœªå®ç°å¼‚å¸¸&#40;NotImplemented Exceptions&#41;</a></h2>
<p>åœ¨juliaä¸­, å¦‚æœç”¨ä¸€ä¸ªæœªå®šä¹‰æŸå‡½æ•°æ–¹æ³•çš„ç±»å»è°ƒç”¨è¯¥å‡½æ•°, ä¼šæŠ›å‡ºæœªå®ç°çš„é”™è¯¯:</p>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">function foo&#40;x::Int&#41; return x &#43; 1 end
foo&#40;&quot;abc&quot;&#41; #This caused a methodError, since String is not a type implementing the function foo</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<p>é€šå¸¸è¿™å¯ä»¥æä¾›éå¸¸æœ‰ç”¨è€Œä¸”æ˜ç¡®çš„ä¿¡æ¯, ä½†æœ‰æ—¶å€™ä¹Ÿä¼šç»™ç”¨æˆ·debugå¸¦æ¥é—®é¢˜, è€ƒè™‘ä»¥ä¸‹ä¾‹å­:</p>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">abstract type AbstractModel end

&quot;&quot;&quot;
    probability_estimate&#40;model, observation::AbstractArray&#41;::Real

For a given &#96;model&#96;, returns the likelihood of the &#96;obervation&#96; occurring.
&quot;&quot;&quot;
function probability_estimate&#40;model::AbstractModel, observation::AbstractArray&#41;
    error&#40;&quot;&#96;probability_estimate&#96; has not been implemented for &#36;&#40;typeof&#40;model&#41;&#41;&quot;&#41;
end

## ç°åœ¨å®šä¹‰ä¸€ä¸ªä½¿ç”¨è¯¥å‡½æ•°çš„æ–°ç±»å‹
&quot;&quot;&quot;
    GuessingModel &lt;: AbstractModel

A model that just guesses. Not even educated guesses. Just random guessing.
&quot;&quot;&quot;
struct GuessingModel &lt;: AbstractModel
end

probability_estimate&#40;guesser::GuessingModel, observation::AbstractMatrix&#41; &#61; rand&#40;&#41;

## GuessingModelç±»å‹ä¸‹è°ƒç”¨è¯¥å‡½æ•°:
probability_estimate&#40;GuessingModel&#40;&#41;, &#91;1,2,3&#93;&#41;
## ä¼šæŠ¥é”™:
## &#96;probability_estimate&#96; has not been implemented for GuessingModel</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<p>å¾ˆå¥‡æ€ªå§, æ˜æ˜å®šä¹‰äº†<code>GuessingModel</code>å¯¹åº”çš„å‡½æ•°æ–¹æ³•, ä¸ºå•¥ä¼šæŠ¥è¿™ä¸ªé”™è¯¯? ç»†å¿ƒçš„è¯»è€…å¯èƒ½æ—©å‘ç°äº†, åŸå› æ˜¯å®šä¹‰<code>GuessingModel</code>å¯¹åº”çš„<code>probability_estimate</code>æ–¹æ³•æ—¶, ä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>AbstractMatrix</code>, ä½†æ˜¯åœ¨è°ƒç”¨æ—¶, ç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>Vector</code>ç±»å‹, æ‰€ä»¥å®é™…ä¸Šè°ƒç”¨çš„æœ€å¼€å§‹é€‚ç”¨äº<code>AbstractModel</code>çš„æ–¹æ³•ã€‚ä½†æ˜¯è¿™ä¸ªæŠ¥é”™å¯¹è§£å†³è¿™ä¸ªBUGåŸºæœ¬ä¸Šæ²¡æœ‰å¸®åŠ©&#40;åè€Œè¿˜ä¼šè¯¯å¯¼&#41;ã€‚</p>

<fieldset class="admon admon-info">
<legend class="admon-legend admon-legend-info"> ğŸ¥‘ å¦‚ä½•é¿å…å‡ºç°é”™è¯¯çš„æœªå®šä¹‰æŠ¥é”™?</legend>
  æœ€ç›´æ¥çš„, ä¸è¦å¼•å…¥ä¸å¿…è¦çš„ç±»å‹æ ‡æ³¨, ä½†æ˜¯å¾ˆå¤šæ—¶å€™æ˜¯éœ€è¦è¯¦ç»†çš„ç±»å‹æ ‡æ³¨çš„. è¿™æ—¶, æˆ‘ä»¬å¯ä»¥é¢„å…ˆå®šä¹‰ä¸€ä¸ªæ²¡æœ‰ä»»ä½•è¡Œä¸ºçš„æ³›å‹å‡½æ•°, ç„¶åå†é€šè¿‡å¤šé‡åˆ†æ´¾å®šä¹‰æ–°çš„æ–¹æ³•: <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">&quot;&quot;&quot;
    probability_estimate2&#40;model, observation::Vector&#41;::Real

For a given &#96;model&#96;, returns the likelihood of the &#96;observation&#96; occurring.
&quot;&quot;&quot;
function probability_estimate2 end

probability_estimate2&#40;guesser::GuessingModel, observation::AbstractMatrix&#41; &#61; rand&#40;&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset> è¿™æ—¶å†è°ƒç”¨<code>probability_estimate2&#40;GuessingModel&#40;&#41;, &#91;1,2,3&#93;&#41;</code>, æŠ¥é”™å°±ä¼šæ›´åŠ æ¸…æ™°: 
<fieldset class="admon admon-error">
<legend class="admon-legend admon-legend-error"> Error</legend>
</p>
<pre><code class="language-plaintext">No method matching &#96;probability_estimate2&#96; with arguments types: 
   &#40;1&#41; ::GuessingModel                                           
   &#40;2&#41; ::Vector                                                  
                                                                 
No alternative candidates found</code></pre>
<p>
</fieldset>
 
</fieldset>

<h2 id="å®ç¼–ç¨‹çš„æ»¥ç”¨"><a href="#å®ç¼–ç¨‹çš„æ»¥ç”¨" class="header-anchor">å®ç¼–ç¨‹çš„æ»¥ç”¨</a></h2>

<fieldset class="admon admon-warn">
<legend class="admon-legend admon-legend-warn"> Warn</legend>
  è¿™é‡Œçš„åæ¨¡å¼å¹¶ä¸é€‚ç”¨äº<code>@inbounds</code>, <code>@simd</code>, <code>@fastmath</code>ç­‰åº•å±‚çš„æ€§èƒ½å®, è€Œæ˜¯é’ˆå¯¹èƒ½å†™æˆå‡½æ•°çš„æƒ…å†µä¸‹, è‡ªå·±ç¼–å†™çš„å®ã€‚ 
</fieldset>

<p>Juliaä¸­å®ç¼–ç¨‹çš„åˆè¡·å¹¶ä¸æ˜¯æ€§èƒ½æå‡, è€Œæ˜¯è¯­æ³•è½¬æ¢: <code>@view xs&#91;4:end&#93;</code>ä¼šè¢«è½¬æˆ<code>view&#40;xs, 4:lastindex&#40;xs&#41;&#41;</code>, è¿™ç§å¯¹<code>end</code>çš„è½¬æ¢åœ¨<code>function</code>ä¸­æ˜¯æ— æ³•å®ç°çš„ã€‚</p>
<p>ä½†æ˜¯, ç°åœ¨å¾ˆå¤šäººè®¤ä¸ºå†™å®ä¼šæ¯”å†™å‡½æ•°æ›´å¿«ã€‚&#40;ä½œè€…è®¤ä¸ºè¿™å¾ˆå¯èƒ½æ˜¯ç”±äº90å¹´ä»£Cè¯­è¨€çš„å½±å“é€ æˆçš„, å½¼æ—¶æ˜¯é€šè¿‡å®è¿›è¡Œinlineæ“ä½œ, ä»è€Œåœ¨ç¼–è¯‘æ—¶å¯è·å¾—æ›´å¥½çš„æ€§èƒ½æå‡&#41;</p>
<p>2019å¹´çš„Juliaå¤§ä¼šä¸Š, Steven G. Johnsonæ•™æˆåœ¨å…³äº&quot;<a href="https://www.youtube.com/watch?v&#61;mSgXWpvQEHE">Adventures in Code Generation</a>&quot;çš„æ¼”è®²ä¸Šçš„è¯´æ³•å°±å¾ˆæœ‰å‚è€ƒæ„ä¹‰:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/mSgXWpvQEHE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<fieldset class="admon admon-note">
<legend class="admon-legend admon-legend-note"> ğŸ“˜ å‡½æ•°ç›¸æ¯”äºå®çš„ä¼˜åŠ¿</legend>
</p>
<ol>
<li><p><strong>æ›´ç†Ÿæ‚‰æ›´æ˜“è¯»</strong>: å¤§éƒ¨åˆ†ç”¨æˆ·æ›´ç†Ÿæ‚‰å‡½æ•°;</p>
</li>
<li><p><strong>é«˜æ‰©å±•æ€§</strong>: å‡½æ•°æ›´å®¹æ˜“è¿›è¡Œå¤šé‡åˆ†æ´¾, å®åŸºæœ¬ä¸Šå¾ˆéš¾æ‰©å±•;</p>
</li>
<li><p><strong>æ›´å®¹æ˜“ç†è§£</strong>: å‡½æ•°çš„åŸºæœ¬è¡Œä¸ºæ˜¯ç±»ä¼¼çš„, ä½†ä¸åŒçš„å®å¯èƒ½å†…éƒ¨é€»è¾‘å¤§ç›¸å¾„åº­;</p>
</li>
</ol>
<p>
</fieldset>


<fieldset class="admon admon-warn">
<legend class="admon-legend admon-legend-warn"> ğŸ‡ ä¾‹å¤–æƒ…å†µ</legend>
  æœ‰æ—¶å€™ä¸å¾—ä¸ä½¿ç”¨å®:</p>
<ul>
<li><p>æ€§èƒ½éå¸¸é‡è¦;</p>
</li>
<li><p>å­—é¢é‡è§£æèŠ±è´¹å¤§é‡æ—¶é—´;</p>
</li>
</ul>
<p>ä¸¾ä¸ªæ —å­:</p>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">using BenchmarkTools

# performance using function
compute_poly&#40;x, coeffs&#41; &#61; sum&#40;a * x^&#40;i-1&#41; for &#40;i, a&#41; in enumerate&#40;coeffs&#41;&#41;
@btime compute_poly&#40;1, &#40;1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17&#41;&#41;

# performance using macro
macro compute_poly&#40;x, coeffs_tuple&#41;
    # a*x^i
    Meta.isexpr&#40;coeffs_tuple, :tuple&#41; || ArgumentError&#40;&quot;@compute_poly only accepts a tuple literal as second argument&quot;&#41;
    coeffs &#61; coeffs_tuple.args
    terms &#61; map&#40;enumerate&#40;coeffs&#41;&#41; do &#40;i, a&#41;
        a &#61; coeffs&#91;i&#93;
        if a isa Number &amp;&amp; x isa Number # it is a literal compute at compile time
            a * x ^ &#40;i-1&#41;
        else
            # an expression, so return an expression
            esc&#40;:&#40;&#36;a * &#36;x ^ &#36;&#40;i-1&#41;&#41;&#41;
        end
    end
    if all&#40;x isa Number for x in terms&#41;
        # Whole thing can run at compile time
        return sum&#40;terms&#41;
    else
        return Expr&#40;:call, :&#43;, terms...&#41;
    end
end

@btime @compute_poly&#40;1, &#40;1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17&#41;&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<p>å®ä¸ºå•¥è¿™ä¹ˆå†™æˆ‘æš‚æ—¶è¿˜çœ‹ä¸å¤ªæ˜ç™½, åªéœ€è¦çŸ¥é“å®ƒå¿«å°±å¥½äº†:</p>
<p>åœ¨æˆ‘çš„ç¬”è®°æœ¬ä¸Š, å‡½æ•°ç‰ˆç”¨æ—¶<code>~70ns</code> å®ç‰ˆç”¨æ—¶<code>1.5ns</code>; 
</fieldset>

<h2 id="å“ˆå¸Œå­—å…¸çš„è¯¯ç”¨"><a href="#å“ˆå¸Œå­—å…¸çš„è¯¯ç”¨" class="header-anchor">å“ˆå¸Œ/å­—å…¸çš„è¯¯ç”¨</a></h2>
<p>ä½œè€…è¡¨ç¤ºç»å¸¸çœ‹åˆ°æœ‰äººç”¨å­—å…¸<code>Dict&#123;Symbol&#125;</code>æˆ–<code>Dict&#123;String&#125;</code>åªæ˜¯ç”¨æ¥å­˜å‚¨å›ºå®šçš„å˜é‡&#40;ä»–ä»¬æƒ³æŠŠè¿™äº›å˜é‡æ‰“åŒ…åœ¨ä¸€èµ·, æ¯”å¦‚é…ç½®å‚æ•°, æ¨¡å‹è¶…å‚æ•°ç­‰&#41;ã€‚åœ¨Julia 0.7ç‰ˆä¹‹å‰, è¿™ç”šè‡³æ˜¯è¢«æå€¡çš„&#40;å¦‚æœä¸æ„å»º<code>struct</code>çš„è¯&#41;ã€‚è¿™å®é™…ä¸Šä¼šå¼•å‘è‡³å°‘ä¸¤ä¸ªé—®é¢˜:</p>
<p>
<fieldset class="admon admon-todo">
<legend class="admon-legend admon-legend-todo"> ğŸŠ 1. å¼•å…¥å¯å˜çŠ¶æ€(mutable state)</legend>
</p>
<ul>
<li><p>ç¼–å†™ä»£ç çš„æ—¶å€™, å¿…é¡»æ—¶åˆ»ä¿è¯æ‰€æœ‰çš„æ“ä½œéƒ½ä¸ä¼šæ”¹å˜å­˜åœ¨Dictä¸­çš„å€¼;</p>
</li>
<li><p>åœ¨å¤§å‹é¡¹ç›®ä¸­, è¿˜è¦æ— æ¡ä»¶ç›¸ä¿¡åˆ«äººä¸ä¼šé”™è¯¯åœ°æ”¹å˜Dictä¸­çš„å€¼;</p>
</li>
</ul>
<p>ç”¨<strong>ä¸å¯å˜çš„æ•°æ®ç»“æ„</strong>. 
</fieldset>
 
<fieldset class="admon admon-todo">
<legend class="admon-legend admon-legend-todo"> ğŸŠ 2. æ€§èƒ½å˜å·®</legend>
  ç”¨Dictè™½ç„¶å¯ä»¥åœ¨<code>O&#40;1&#41;</code>çš„å¸¸é‡æ—¶é—´å°ºåº¦ä¸‹èµ‹å€¼å’Œå–å€¼, ä½†è¿™ä¸ªå¸¸é‡æ—¶é—´é€šå¸¸ä¹Ÿä¸ä¼šå¾ˆçŸ­, Dictéœ€è¦è®¡ç®—Hash, <code>Symbol</code>ç±»å‹çš„Hashè¿‡ç¨‹å¾ˆå¿«, ä½†<code>String</code>ç±»å‹çš„ä¼šæ…¢ä¸€äº›, å¦‚æœå­˜å‚¨æ›´å¤æ‚çš„ç»“æ„, hashæœ‰å¯èƒ½å¾ˆæ…¢:</p>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">dict &#61; Dict&#40;&#91;:a&#61;&gt;1, :b&#61;&gt;2, :c&#61;&gt;3, :d&#61;&gt;4, :e&#61;&gt;5&#93;&#41;
@btime &#36;&#40;dict&#41;&#91;:d&#93;; # 5ns

str_dict &#61; Dict&#40;string&#40;k&#41;&#61;&gt; v for &#40;k,v&#41; in dict&#41;  # convert all the keys to strings
@btime &#36;&#40;str_dict&#41;&#91;&quot;d&quot;&#93;; # 21ns</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<p>ä¸€ä¸ªå¯è¡Œçš„æ›¿ä»£æ–¹æ¡ˆæ˜¯<span class="cadmon sadmon-todo">OrderedCollectionåŒ…ä¸­çš„LittleDict</span>, è¯¥ç»“æ„ç±»ä¼¼Dict, ä½†æ˜¯ä¸ä¼šæ„å»ºhash, æ‰€ä»¥æ¯”Dictæ›´é€‚ç”¨äºå°é›†åˆçš„å­˜å‚¨ã€‚</p>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">using OrderedCollections
little_dict &#61; LittleDict&#40;dict&#41;
@btime &#36;&#40;little_dict&#41;&#91;:d&#93;; # 8ns</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<p>è¿˜å¯ä»¥ç”¨<code>freeze</code>æ–¹æ³•è½¬æˆä¸å¯å˜ç±»å‹: <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">frozen_little_dict &#61; freeze&#40;LittleDict&#40;dict&#41;&#41;
@btime &#36;&#40;frozen_little_dict&#41;&#91;:d&#93;; # 4ns</code></pre>
<p><div class="code-lag">julia</div></fieldset> 
</fieldset>
 </p>
<h2 id="è¿‡åº¦ç±»å‹æ ‡æ³¨"><a href="#è¿‡åº¦ç±»å‹æ ‡æ³¨" class="header-anchor">è¿‡åº¦ç±»å‹æ ‡æ³¨</a></h2>

<fieldset class="hadmon admon-warn"><legend class="hadmon-legend admon-legend-warn"> Frameså¤§ä½¬å£°æ˜:</legend>
  Juliaä¸­çš„ç±»å‹æ ‡æ³¨<strong>åªæ˜¯</strong>ç”¨æ¥åš<span class="cadmon sadmon-error">æ´¾å‘&#40;dispatch&#41;</span>ç”¨çš„, å¦‚æœä¸€ä¸ªå‡½æ•°æ²¡æœ‰å¤šç§æ–¹æ³•, æ ¹æœ¬ä¸éœ€è¦å†™ç±»å‹æ ‡æ³¨&#33; å¦‚æœä¸€å®šè¦å†™ç±»å‹æ ‡æ³¨, å†™çš„è¶ŠæŠ½è±¡è¶Šå¥½ã€‚</p>
<p><span class="cadmon sadmon-note">NOTE:</span> è¿™å¹¶ä¸æ˜¯è¯´ç±»å‹æ ‡æ³¨ä¸èƒ½ç”¨äºå…¶ä»–åœºæ™¯, é€šå¸¸å®ƒå¯ä»¥åœ¨å…¶ä»–åœºæ™¯è¢«å¾ˆå¥½åœ°åº”ç”¨ã€‚ä½†è¿™ä¸æ”¹å˜å®ƒè¢«å‘æ˜çš„åˆè¡·å°±æ˜¯ç”¨æ¥åšæ´¾å‘çš„äº‹å®ã€‚ 
</fieldset>

<p>è¿‡åº¦ç±»å‹æ ‡æ³¨å¾€å¾€æ¥è‡ªäºä»¥ä¸‹å‡ ä¸ªè¯¯è§£:</p>

<fieldset class="hadmon admon-error"><legend class="hadmon-legend admon-legend-error"> è¯¯è§£1: å¯ä»¥è®©ä»£ç æ›´å¿«</legend>
  Juliaçš„<span class="Sadmon Sadmon-warn">JIT</span>ç¼–è¯‘å™¨åœ¨ä¼˜åŒ–ç»å¤§éƒ¨åˆ†ä»£ç çš„æ—¶å€™æ˜¯ä¸éœ€è¦ç±»å‹é™åˆ¶çš„, ä¼šæ ¹æ®è¾“å…¥å‚æ•°å¯¹åº”çš„å…·ä½“ç±»å‹, ä¼˜åŒ–å¯¹åº”çš„æ–¹æ³•&#40;å³é’ˆå¯¹ä¸åŒçš„è¾“å…¥ç±»å‹ç”Ÿæˆä¸åŒçš„æœºå™¨ç &#41;, æ‰€ä»¥ä¸ä¼šå› ä¸ºé¢„å…ˆæ ‡æ³¨äº†ç±»å‹, å°±ä¼šæœ‰æ›´å¥½çš„æ€§èƒ½ä¼˜åŒ–ã€‚è€Œå¯¹äºé<span class="Sadmon Sadmon-warn">JIT</span>çš„é«˜çº§è¯­è¨€&#40;æ¯”å¦‚Cython&#41;, é¢„å…ˆæ ‡æ³¨ç±»å‹å¯ä»¥è®©å…¶åœ¨ç¼–è¯‘å±‚é¢ä½œå‡ºé’ˆå¯¹æ€§çš„ä¼˜åŒ–ã€‚</p>
<p><span class="sadmon sadmon-note">æ€»ä¹‹, ç”±äºJIT, juliaä¸­çœŸæ­£æ‰§è¡Œçš„æŒ‡ä»¤æ€»æ˜¯é’ˆå¯¹è¾“å…¥çš„å‚æ•°ç±»å‹ä¼˜åŒ–è¿‡çš„, &#40;è¿™å¯èƒ½ä¹Ÿæ˜¯ä¸ºå•¥Juliaåšé™æ€ç¼–è¯‘åº“å¾ˆå›°éš¾çš„ä¸»è¦åŸå› å§&#41;</span> 
</fieldset>


<fieldset class="hadmon admon-error"><legend class="hadmon-legend admon-legend-error"> è¯¯è§£2: è®©ä»£ç æ›´å®‰å…¨</legend>
  å¯¹é™æ€è¯­è¨€æ¥è¯´, ç±»å‹æ ‡æ³¨æ¯«æ— ç–‘é—®æ˜¯<span class="Sadmon Sadmon-warn">ç±»å‹å®‰å…¨</span>çš„ä¿éšœ&#40;æ‰€æœ‰å¯èƒ½çš„é—®é¢˜éƒ½åœ¨ç¼–è¯‘æœŸæš´éœ²å‡ºæ¥&#41;ã€‚Juliaä¸æ˜¯é™æ€ç±»å‹è¯­è¨€, ä¹Ÿä¸æ˜¯é¢„ç¼–è¯‘è¯­è¨€, å¾ˆå¤šbugä¼šåœ¨ <span class="sadmon sadmon-note">æ‰§è¡Œåˆ°å…·ä½“å‘½ä»¤çš„æ—¶å€™</span>æ‰æŠ¥å‡ºæ¥ã€‚æ‰€ä»¥æ·»åŠ ç±»å‹æ ‡æ³¨å¹¶ä¸ä¼šè®©ä»£ç æ›´å®‰å…¨ã€‚</p>
<p>
<fieldset class="admon admon-info">
<legend class="admon-legend admon-legend-info"> ğŸ¥‘ ä¸ªäººæƒ³æ³•</legend>
  æˆ‘è®¤ä¸º, è¿™ä¹Ÿè®¸æ˜¯juliaç›¸å¯¹äºå…¶ä»–è¯­è¨€çš„ä¸€ä¸ªä¸è¶³, ä½†æ— ä¼¤å¤§é›…, å› ä¸ºbugæ€»ä¼šæš´éœ²å‡ºæ¥, ç‰ºç‰²äº†åœ¨ç¼–è¯‘æœŸDebugçš„ä¼˜åŠ¿, æ¢æ¥çš„æ˜¯è¶…å¼ºçš„è¡¨ç°åŠ›å’Œæ‰©å±•æ€§, ç¨³èµšå¥½ä¹ˆã€‚Rustçš„ç¼–è¯‘å™¨æ•™åšäººçš„ç—›è‹¦, è°ç”¨è°çŸ¥é“ã€‚ 
</fieldset>
 
</fieldset>


<fieldset class="hadmon admon-error"><legend class="hadmon-legend admon-legend-error"> è¯¯è§£3: è®©ä»£ç æ›´æ˜“è¯»(å®é™…ä¸Šæ˜¯å¯¹çš„,ä½†...)</legend>
  æ·»åŠ ç±»å‹æ ‡æ³¨ç¡®å®å¯ä»¥è®©ä»£ç æ›´æ˜“è¯», ç¡®å®æ˜¯çš„ã€‚ä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–æ–¹æ³•è®©ä»£ç æ›´å·²è¯»:</p>
<ul>
<li><p>å†™è¯¦ç»†çš„æ–‡æ¡£: Juliaçš„documentationæœ‰å¤šå¼ºå¤§, ç”¨è¿‡çš„éƒ½çŸ¥é“;</p>
</li>
<li><p>å†™å¥½æ³¨é‡Š: ä¼—æ‰€å‘¨çŸ¥, å†™ä»£ç æœ€å¤šæ—¶å€™éƒ½æ˜¯åœ¨å†™æ³¨é‡Š;</p>
</li>
</ul>
<p>
<fieldset class="admon admon-info">
<legend class="admon-legend admon-legend-info"> ğŸ¥‘ ä¸ªäººæƒ³æ³•</legend>
  æœ€å¼€å§‹å­¦Juliaçš„æ—¶å€™, æˆ‘æ¨ä¸å¾—æ¯ä¸ªå˜é‡éƒ½åŠ ä¸Šç±»å‹æ ‡æ³¨, åè€Œä¸æ˜“è¯»äº†, é€šç¯‡å¾ˆå¤š<code>:</code>,<code>&#123;&#125;</code>,<code>&#40;&#41;</code>,<code>&lt;:</code>, è·ŸPerlä¸€æ ·è®©äººçœ¼èŠ±ã€‚ 
</fieldset>
 
</fieldset>

<p>æœ€å, ä½œè€…ä¸¾äº†å‡ ä¸ªä¾‹å­ç›´è§‚è¡¨ç¤ºç±»å‹æ ‡æ³¨æœ‰å¯èƒ½å¸¦æ¥çš„é—®é¢˜:</p>

<fieldset class="hadmon admon-info"><legend class="hadmon-legend admon-legend-info"> ç¤ºä¾‹1: çº¦æŸäº†AbstractVector, å®é™…ä¸Šæ›´æƒ³è¦çš„æ˜¯iterator</legend>
 <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">function my_average&#40;xs::AbstractVector&#41;
    len &#61; 0
    total &#61; zero&#40;eltype&#40;xs&#41;&#41;
    for x in xs
        len &#43;&#61; 1
        total &#43;&#61; x
    end
    return total/len
end

# error when input tuple:
my_average&#40;&#40;1,2,3&#41;&#41;

# error when input type unions:
data &#61; &#91;1, 2, 3, missing, 5, 4&#93; # typeof&#40;data&#41; &#61; Vector&#123;Union&#123;Missing, Int64&#125;&#125;
nmdata &#61; skipmissing&#40;data&#41; # typeof&#40;nmdata&#41; &#61; Base.SkipMissing&#123;Vector&#123;Union&#123;Missing, Int64&#125;&#125;&#125;
my_average&#40;nmdata&#41; # type error</code></pre>
<p><div class="code-lag">julia</div></fieldset></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­, æŒ‡å®šäº†<code>my_average</code>å‡½æ•°é€‚ç”¨äº<code>AbstractVector</code>ç±»å‹, ä½†æ˜¯å®é™…ä¸Š, æœ‰å¾ˆå¤šå¯ä»¥è¿­ä»£çš„ç±»å‹æ˜¯ä¸å±äº<code>AbstractVector</code>çš„, å¦‚æœç”¨collect&#40;itr&#41;æŠŠä»–ä»¬è½¬æˆ<code>AbstractVector</code>åˆä¼šå¢åŠ ä¸å¿…è¦çš„å†…å­˜åˆ†é…, é™ä½ä»£ç æ€§èƒ½ã€‚ 
</fieldset>


<fieldset class="hadmon admon-info"><legend class="hadmon-legend admon-legend-info"> ç¤ºä¾‹2: ç”¨`AbstractVector{<:Real}`è€Œä¸æ˜¯`AbstractVector`è¿›è¡Œå¤šé‡æ´¾å‘</legend>
 <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">using BenchmarkTools
function indmin&#40;x::AbstractVector&#123;&lt;:Real&#125;&#41;
    ind&#61;1
    for ii in eachindex&#40;x&#41;
        if x&#91;ii&#93; &lt; x&#91;ind&#93;
           ind &#61; ii
        end
    end
    return ind
end

indmin&#40;1:10&#41;
# the author&#39;s returns 385
# but mine correctly returned 1</code></pre>
<p><div class="code-lag">julia</div></fieldset></p>

<fieldset class="hadmon admon-error"><legend class="hadmon-legend admon-legend-error"> ä½œè€…è¯´è¿™é‡Œä¼šæŠ¥é”™, è€Œæˆ‘çš„å¹¶ä¸ä¼š</legend>
  å¯èƒ½æ˜¯åœ¨å½“æ—¶çš„Juliaç‰ˆæœ¬&#40;<span class="sadmon sadmon-hack">&lt; V1.6 ?</span>&#41;ä¸­, UnitRange&#123;Int64&#125; å¹¶ä¸å±äºAbstractVector, ä½†ç°åœ¨å±äºäº†å§ã€‚ <span class="cadmon sadmon-todo">æœ‰å¾…éªŒè¯</span>ã€‚ 
</fieldset>

<p><fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">data &#61; &#91;1, 2, 3, missing&#93;
indmin&#40;@view&#40;data&#91;1:3&#93;&#41;&#41;

# error: @view&#40;data&#91;1:3&#93;&#41;è¿”å›çš„æ•°ç»„ç±»å‹ä¹Ÿæ˜¯Union&#123;Missing, Int64&#125;</code></pre>
<p><div class="code-lag">julia</div></fieldset> 
</fieldset>


<fieldset class="hadmon admon-info"><legend class="hadmon-legend admon-legend-info"> ç¤ºä¾‹3: å‡½æ•°ç±»å‹çš„åˆ†æ´¾</legend>
 <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">apply_inner&#40;func::Function, xss&#41; &#61; &#91;&#91;func&#40;x&#41; for x in xs&#93; for xs in xss&#93;
apply_inner&#40;round, &#91;&#91;0.2, 0.9&#93;, &#91;1.2, 1.3, 1.6&#93;&#93;&#41; # works fine
apply_inner&#40;Float32, &#91;&#91;0.2, 0.9&#93;, &#91;1.2, 1.3, 1.6&#93;&#93;&#41; # ERROR: Float32 is not a Function</code></pre>
<p><div class="code-lag">julia</div></fieldset></p>
<p>ä¸ºäº†æ‹“å±•é€‚ç”¨æ€§, å¯ä»¥æŠŠå‚æ•°ç±»å‹æ”¹æˆ<code>Base.Callable</code>, ç­‰åŒäº<code>Union&#123;Type, Function&#125;</code>ã€‚ä½†è¿™ä¹Ÿä¸æ˜¯ä¸‡å…¨ä¹‹ç­–, æœ‰äº›å¯æ‰§è¡Œçš„å¯¹è±¡ä¹Ÿä¸å±äºè¿™ä¸¤ç±», å¦‚<code>DiffEqBase.ODESolution</code>å’Œ<code>Flux.chain</code>ã€‚ 
</fieldset>

<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">æ€»ç»“</a></h1>
<p>æœ€å, ä½œè€…æ¨èä¸€äº›juliaé«˜æ€§èƒ½çš„å‚è€ƒèµ„æ–™:</p>
<ul>
<li><p><a href="https://docs.julialang.org/en/v1/manual/performance-tips/">Julia Performance Tips</a></p>
</li>
<li><p>éµå®ˆä¸€ä¸ªæ ¼å¼è§„èŒƒ, æ¯”å¦‚ä½œè€…æ¨èçš„<a href="https://github.com/invenia/BlueStyle">BlueStyle</a></p>
</li>
<li><p>ä½œè€…çš„å¦ä¸€ç¯‡åšæ–‡: <a href="https://www.oxinabox.net/2019/09/28/Continuous-Delivery-For-Julia-Packages.html">Continuous Delivery</a></p>
</li>
</ul>
<p>è¿˜å¾—ä¿®ç‚¼å•Š&#33;</p>


</div>
<!-- article style -->


 <hr>

<script src="https://utteranc.es/client.js"
    repo="songtaogui/blog_comments"
    issue-term="pathname"
    theme="github-light"
    crossorigin="anonymous"
    async>
</script>


<hr> 

<div class="container">
    
    <footer class="site-footer">
        <p class="powered-by">
          <script type="text/javascript" src="//rf.revolvermaps.com/0/0/4.js?i=5jnkqismgmy&amp;m=5&amp;h=128&amp;c=baff00&amp;r=0" async="async"></script><br>
            Total visits: <span id="busuanzi_value_site_pv"></span>.<br>
            Built with <a href="https://franklinjl.org" target="_blank" rel="noopener">Franklin.jl</a> and <a
                href="https://julialang.org" target="_blank" rel="noopener">Julia</a>.<br>
            Texts are licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.<br>
            Codes are licensed under the <a href="https://mit-license.org/">MIT License</a>.<br>
            <strong>&copy; Songtao Gui</strong>. Last modified: October 31, 2022.
          </p>
    </footer>
    
</div>
</div>


</div>
<!--article container -->
</article>


<!-- CONTENT ENDS HERE -->

 <script src="/libs/highlight/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>
 

<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js
    integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js
    integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js
    integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script>
<script src="/libs/academic/academic.min.js"></script>
<script src="/libs/pure/ui.js"></script>

</body>


 <a class="js-back-to-top back-to-top-button" href="#">
    <img src="/assets/img/up.svg" style="width: 100px;">
</a>
<!-- <button class="js-back-to-top back-to-top-button" title="BackToTop">ï¸½</button> -->
<script src="https://cdn.staticfile.org/jquery/2.2.4/jquery.min.js"></script>
<script>
    $(function () {
        var $win = $(window);
        var $backToTop = $('.js-back-to-top');
        // å½“ç”¨æˆ·æ»šåŠ¨åˆ°ç¦»é¡¶éƒ¨100åƒç´ æ—¶ï¼Œå±•ç¤ºå›åˆ°é¡¶éƒ¨æŒ‰é’®
        $win.scroll(function () {
            if ($win.scrollTop() > 100) {
                $backToTop.show();
            } else {
                $backToTop.hide();
            }
        });
        // å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œé€šè¿‡åŠ¨ç”»æ•ˆæœè¿”å›å¤´éƒ¨
        $backToTop.click(function () {
            $('html, body').animate({
                scrollTop: 0
            }, 200);
        });
    });
</script>
<style>
    /* back to top button */
    .back-to-top-button {
        display: none;
        position: fixed;
        width: 50px;
        bottom: 3%;
        right: 3%;
        z-index: 99;
        font-size: 15px;
        border: 0px solid #696969;
        background-color: #fff;
        color: #222222;
        outline: none;
        cursor: pointer;
        padding: 7px;
        border-radius: 40px;
    }

    .back-to-top-button:hover {
        background-color: #c0dbf5;
        color: #fff;
    }
</style> 


<!-- PJAXé…ç½®: å…ˆä¸æäº†! -->
<!--   
  <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script>
  
  <script>
    var pjax = new Pjax({
      elements: "a",
      selectors: [
        "title",
        "meta[name=description]",
        ".the-header",
        ".the-content",
        ".the-sidebar",
      ]
    })
  </script> -->

</html>



