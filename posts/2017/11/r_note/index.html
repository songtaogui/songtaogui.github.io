
<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="sKCEBeALSs13uui0cWMviq9hlm0rPByKQKNHnOdq-d0" />
    <meta name="baidu-site-verification" content="code-MBwKQgVpns" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Songtao Gui">

    
    <meta name="description" content="My R-language note
">
    

    
    
    <meta name="keywords" content="r_note">
    <title>r_note</title>
    

    <link rel="icon" href="/assets/favicon.svg">

    <!-- Dark mode -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
    <script>
        function addDarkmodeWidget()
        {
            const options = {
                top: 'unset',
                bottom: 'unset', /* default: '32px' */
                right: 'unset', /* default: '32px' */
                left: '50px', /* default: 'unset' */
                time: '.0s', /* default: '0.3s' */
                mixColor: '#fff', /* default: '#fff' */
                backgroundColor: '#fff', /* default: '#fff' */
                buttonColorDark: '#100f2c', /* default: '#100f2c' */
                buttonColorLight: '#fff', /* default: '#fff' */
                saveInCookies: true, /* default: true, */
                label: '🌓', /* default: '' */
                autoMatchOsTheme: true /* default: true */
            };
            new Darkmode(options).showWidget();
        };
        window.addEventListener('DOMContentLoaded', addDarkmodeWidget);
    </script> -->
    
<link rel=preconnect href="https://fonts.gstatic.com" crossorigin=anonymous>
<link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    crossorigin=anonymous>
<link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"
    crossorigin=anonymous>
<link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" crossorigin=anonymous>
<link rel=stylesheet
    href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"
    crossorigin=anonymous>
<!-- locally served -->
<link rel="stylesheet" href="/css/pure.css">
<link rel=stylesheet href="/libs/academic/academic.min.css">
<link rel="stylesheet" href="/css/layout.css">
<link rel="stylesheet" href="/css/extra.css">
<link rel=stylesheet href="/css/codeset.css">
<link rel=stylesheet href="/css/admonition.css">
<link rel=stylesheet href="/css/cv.css">
<link rel=stylesheet href="/css/search-box.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
<link rel=stylesheet href="/css/vega.css">
<!-- <link rel=stylesheet href="/css/font-awesome.css"> -->

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!-- nutshell + highlight + katex + plotly -->

<link rel=stylesheet href="/libs/highlight/styles/atom-one-light.min.css">






    <!-- Vega -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.0/dist/svg.min.js"></script>
    <style media="screen">
        /* Add space between Vega-Embed links  */
        .vega-actions a {
          margin-right: 5px;
        }
    </style>
    <!-- end Vega -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js"
        integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script>
</head>

<body id=top data-spy="scroll" data-offset="70" data-target=#navbar-main>
    <!-- Swiftype -->
    <script type="text/javascript">
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
        (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
        
        _st('install','J57vdqtTa8oYL-ikpKNG','2.0.0');
    </script>
    
     <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main>
    <div class=container>
        <!-- Main name -->
        <div class="d-none d-lg-inline-flex">
            <a class=navbar-brand href="/">Songtao Gui</a>
        </div>
        <!-- Button for narrow mode -->
        <button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar
            aria-expanded=false aria-label="Toggle navigation">
            <span><i class="fas fa-bars"></i></span>
        </button>
        <!-- Main name for mobile mode -->
        <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
            <a class=navbar-brand href="/">Songtao Gui</a>
        </div>
        <!-- Menu items -->
        <div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content>
            <ul class="navbar-nav d-md-inline-flex">
                <li class=nav-item><a class=nav-link href="/posts/"><span>Posts</span></a></li>
                <li class=nav-item><a class=nav-link href="/courses/"><span>Courses</span></a></li>
                <li class=nav-item><a class=nav-link href="/notebooks/"><span>Notebooks</span></a></li>
                <li class=nav-item><a class=nav-link href="/cv/"><span>CurriculumVitae</span></a></li>
                <li class=nav-item><a class=nav-link href="/tag/"><span>Tags</span></a></li>
            </ul>
        </div>
        <!-- <div class="nav-linksmall d-none d-lg-inline-flex inputBox">
                <input type="text" class="st-default-search-input" placeholder="Input then press ENTER" value="" required>
                <div class="search"></div>
            <script>
                var searchForm = document.getElementById('searchForm');
                searchForm.onsubmit = function () {
                    var url = this.action;
                    var q = this.children['q'].value;
                    var q = 'site:songtaogui.github.io+' + q
                    // var site = this.children['site'].value;
                    var url = url + '?q=' + q;
                    window.open(url,'__blank');
                    return false;
                };
            </script>
        </div> -->
        <!-- 基于bing site搜索: -->
        <div class="nav-linksmall d-none d-lg-inline-flex inputBox">
            <form action="https://bing.com/search" id="searchForm">
                <input type="text" name="q" value="" placeholder="Input then press ENTER" value="" required>
                <div class="search"></div>
            </form>
            <script>
                var searchForm = document.getElementById('searchForm');
                searchForm.onsubmit = function () {
                    var url = this.action;
                    var q = this.children['q'].value;
                    var q = 'site:songtaogui.github.io+' + q
                    // var site = this.children['site'].value;
                    var url = url + '?q=' + q;
                    window.open(url,'__blank');
                    return false;
                };
            </script>
        </div>
        <!-- <div class="nav-icon d-none d-lg-inline-flex"> -->
        <div class="nav-icon">
            <a class=nav-linksmall href="/giants" target="_blank"><span><img class="nav-img"
                src="/assets/img/giant.svg"></span></a>
            <a class=nav-linksmall href="/achievements/" target="_blank"><span><img class="nav-img"
                        src="/assets/img/achievement.svg"></span></a>
            <a class=nav-linksmall href="/feed.xml" target="_blank"><span><img class="nav-img"
                        src="/assets/img/rss.svg"></span></a>
            <a class=nav-linksmall href="/musics" target="_blank"><span><img class="nav-img"
                        src="/assets/img/music.svg"></span></a>
        </div>

    </div>
</nav> 

    <span class="js-widget-page d-none"></span>

    
    <article class=article>
        <div class="article-container pt-3">
             <h1>r_note</h1> 
        </div>
        
        <div class="article-container">
            <!-- 关闭article-style, 不然跟nutshell不兼容 -->
            <!-- <div class="gst-style"> -->
            <div class="layout-main">
                <!-- <div class="article-style"> -->
                
                
                <div class="franklin-content"><p> <div class="tags"><a href="/tag/" id="tag-icon"><svg width="20" height="20" viewBox="0 0 512 512"><defs><style>.cls-1{fill:#141f38}</style></defs><path class="cls-1" d="M215.8 512a76.1 76.1 0 0 1-54.17-22.44L22.44 350.37a76.59 76.59 0 0 1 0-108.32L242 22.44A76.11 76.11 0 0 1 296.2 0h139.2A76.69 76.69 0 0 1 512 76.6v139.19A76.08 76.08 0 0 1 489.56 270L270 489.56A76.09 76.09 0 0 1 215.8 512zm80.4-486.4a50.69 50.69 0 0 0-36.06 14.94l-219.6 219.6a51 51 0 0 0 0 72.13l139.19 139.19a51 51 0 0 0 72.13 0l219.6-219.61a50.67 50.67 0 0 0 14.94-36.06V76.6a51.06 51.06 0 0 0-51-51zm126.44 102.08A38.32 38.32 0 1 1 461 89.36a38.37 38.37 0 0 1-38.36 38.32zm0-51a12.72 12.72 0 1 0 12.72 12.72 12.73 12.73 0 0 0-12.72-12.76z"/><path class="cls-1" d="M217.56 422.4a44.61 44.61 0 0 1-31.76-13.16l-83-83a45 45 0 0 1 0-63.52L211.49 154a44.91 44.91 0 0 1 63.51 0l83 83a45 45 0 0 1 0 63.52L249.31 409.24a44.59 44.59 0 0 1-31.75 13.16zm-96.7-141.61a19.34 19.34 0 0 0 0 27.32l83 83a19.77 19.77 0 0 0 27.31 0l108.77-108.7a19.34 19.34 0 0 0 0-27.32l-83-83a19.77 19.77 0 0 0-27.31 0l-108.77 108.7z"/><path class="cls-1" d="M294.4 281.6a12.75 12.75 0 0 1-9-3.75l-51.2-51.2a12.8 12.8 0 0 1 18.1-18.1l51.2 51.2a12.8 12.8 0 0 1-9.05 21.85zM256 320a12.75 12.75 0 0 1-9.05-3.75l-51.2-51.2a12.8 12.8 0 0 1 18.1-18.1l51.2 51.2A12.8 12.8 0 0 1 256 320zM217.6 358.4a12.75 12.75 0 0 1-9-3.75l-51.2-51.2a12.8 12.8 0 1 1 18.1-18.1l51.2 51.2a12.8 12.8 0 0 1-9.05 21.85z"/></svg></a><a href="/tag/programming/">programming</a>, <a href="/tag/r/">r</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="tag-icon"><svg width="20" height="20" class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="3825" width="64" height="64"><path d="M512 416a96 96 0 1 0 0 192 96 96 0 0 0 0-192z m511.952 102.064c-0.016-0.448-0.064-0.864-0.096-1.296a8.16 8.16 0 0 0-0.08-0.656c0-0.32-0.064-0.624-0.128-0.928-0.032-0.368-0.064-0.736-0.128-1.088-0.032-0.048-0.032-0.096-0.032-0.144a39.488 39.488 0 0 0-10.704-21.536c-32.672-39.616-71.536-74.88-111.04-107.072-85.088-69.392-182.432-127.424-289.856-150.8-62.112-13.504-124.576-14.064-187.008-2.64-56.784 10.384-111.504 32-162.72 58.784-80.176 41.92-153.392 99.696-217.184 164.48-11.808 11.984-23.552 24.224-34.288 37.248-14.288 17.328-14.288 37.872 0 55.216 32.672 39.616 71.52 74.848 111.04 107.056 85.12 69.392 182.448 127.408 289.888 150.784 62.096 13.504 124.608 14.096 187.008 2.656 56.768-10.4 111.488-32 162.736-58.768 80.176-41.936 153.376-99.696 217.184-164.48 11.792-12 23.536-24.224 34.288-37.248 5.712-5.872 9.456-13.44 10.704-21.568l0.032-0.128a12.592 12.592 0 0 0 0.128-1.088c0.064-0.304 0.096-0.624 0.128-0.928l0.08-0.656 0.096-1.28c0.032-0.656 0.048-1.296 0.048-1.952l-0.096-1.968zM512 704c-106.032 0-192-85.952-192-192s85.952-192 192-192 192 85.968 192 192c0 106.048-85.968 192-192 192z" p-id="3826"></path></svg></a><span id="busuanzi_value_page_pv"></span></div></p>
<h1 id="r_note"><a href="#r_note" class="header-anchor">R Note</a></h1>
<h2 id="common_use"><a href="#common_use" class="header-anchor">Common Use</a></h2>
<h3 id="系统操作"><a href="#系统操作" class="header-anchor"><ol>
<li><p>系统操作:</p>
</li>
</ol>
</a></h3>
<pre><code class="language-sh">save.image&#40;&#39;mydata.rdata&#39;&#41;;load&#40;&#39;mydata.rdata&#39;&#41;#保存/读取工作环境
getwd&#40;&#41; # pwd; 
setwd&#40;&#41; # cd; 
dir&#40;&#41; # ls;
ls&#40;&#41; # 列出所有变量.</code></pre>
<h3 id="ol_start2_r语言管道"><a href="#ol_start2_r语言管道" class="header-anchor"><ol start="2">
<li><p>&#37;&gt;&#37; R语言管道:</p>
</li>
</ol>
</a></h3>
<p>就是把左件的值发送给右件的表达式，并作为右件表达式函数的第一个参数。</p>
<pre><code class="language-sh"># anscombe_tidy &lt;- anscombe &#37;&gt;&#37; mutate&#40;observation &#61; seq_len&#40;n&#40;&#41;&#41;&#41;
#以上代码等价于
# anscombe_tidy &#61; mutate&#40;anscombe,observation &#61; seq_len&#40;n&#40;&#41;&#41;&#41;</code></pre>
<h3 id="ol_start2_读写"><a href="#ol_start2_读写" class="header-anchor"><ol start="2">
<li><p>读写:</p>
</li>
</ol>
</a></h3>
<pre><code class="language-sh">#把第一列作为列名:
row.names&#40;data&#41; &lt;- data&#91;, 1&#93;
data&lt;- data&#91;, -1&#93;
#键盘读入:
readline&#40;&#41;
#剪切板读写:
data &lt;- readClipboard&#40;&#41;; data1 &lt;- strsplit&#40;data,&quot;\t&quot;&#41;
read.table&#40;file&#61;&quot;clipboard&quot;,header&#61;TRUE&#41;
writeClipboard&#40;&#41;	
#写入列表:
write.table&#40;data,file&#61;&quot;XXX&quot;,sep&#61;&quot;\t&quot;,quote&#61;L,row.names&#61;L,col.names&#61;L,...&#41;	
#读取excel-xlsx:
library&#40;xlsx&#41;
dat &lt;- read.xlsx&#40;&quot;XXX.xlsx&quot;, sheetName&#61;&quot;XXXsheet&quot;&#41;

#写入excel-xlsx:
##单个sheet:
library&#40;xlsx&#41;
write.xlsx&#40;dat, &quot;dat.xlsx&quot;&#41;
##多个sheet:
library&#40;xlsx&#41;
cars &lt;- createWorkbook&#40;&#41;
cars1 &lt;- createSheet&#40;wb&#61;cars, sheetName&#61;&quot;Cars&quot;&#41;
cars2 &lt;- createSheet&#40;wb&#61;cars, sheetName&#61;&quot;MTCars&quot;&#41;
addDataFrame&#40;x&#61;cars, sheet&#61;cars1&#41;
addDataFrame&#40;x&#61;mtcars, sheet&#61;cars2&#41;
#命名sheet和添加数据可以合并: addDataFrame&#40;x&#61;cars, sheet&#61;createSheet&#40;wb&#61;cars, sheetName&#61;&quot;Cars&quot;&#41;&#41;
saveWorkbook&#40;cars, &quot;Cars_datasets.xlsx&quot;&#41;</code></pre>
<h3 id="ol_start3_图像输出到文件"><a href="#ol_start3_图像输出到文件" class="header-anchor"><ol start="3">
<li><p>图像输出到文件:</p>
</li>
</ol>
</a></h3>
<pre><code class="language-sh">pdf&#40;&quot;filename.pdf&quot;&#41;
win.metafile&#40;&quot;filename.wmf&quot;&#41;
png&#40;&quot;filename.png&quot;&#41;
jpeg&#40;&quot;filename.jpg&quot;&#41;
bmp&#40;&quot;filename.bmp&quot;&#41;
postscript&#40;&quot;filename.ps&quot;&#41;
tiff&#40;&quot;outfile.tif&quot;, compression &#61; &quot;lzw&quot;,res &#61; 800,pointsize &#61; 2,height&#61;5000,width&#61;5000&#41; #图片大小和分辨率
#输出完后 
dev.off&#40;&#41;</code></pre>
<h3 id="ol_start4_列表数据框操作"><a href="#ol_start4_列表数据框操作" class="header-anchor"><ol start="4">
<li><p>列表/数据框操作:</p>
</li>
</ol>
</a></h3>
<ul>
<li><p>按相同列合并数据:</p>
</li>
</ul>
<code>merge&#40;list1,list2,by&#61;&quot;相同的列名&quot;,all&#61;L&#41;</code>
<ul>
<li><p>按列/行直接合并数据&#40;要求行/列数相同&#41;:</p>
</li>
</ul>
<code>rbind&#40;&#41;; cbind&#40;&#41;;</code>
<ul>
<li><p>排序：</p>
</li>
</ul>
<pre><code class="language-sh">sort（）是对向量进行从小到大的排序
rank（）返回的是对向量中每个数值对应的秩
order（）返回的值表示位置，依次对应的是向量的最小值、次小值、第三小值......最大值
order&#40;主条件，次条件，-次条件&#41; #负号表示逆序</code></pre>
<ul>
<li><p>去掉NA数据行：</p>
</li>
</ul>
<pre><code class="language-perl">b&lt;-a&#91;-which&#40;is.na&#40;a&#41;&#41;&#93;</code></pre>
<h3 id="ol_start5_矩阵转化为数据框melt函数"><a href="#ol_start5_矩阵转化为数据框melt函数" class="header-anchor"><ol start="5">
<li><p>矩阵转化为数据框:melt&#40;&#41;函数</p>
</li>
</ol>
</a></h3>
<pre><code class="language-sh">library&#40;&quot;reshape2&quot;&#41;;
df1 &lt;- melt&#40;matrix1&#41;; #
melt 是溶解/分解的意思， 即拆分数据。 
reshape/reshape2 的 melt 函数是个 S3 通用函数，它会根据数据类型（数据框，数组或列表）
选择 melt.data.frame, melt.array 或 melt.list 函数进行实际操作。 
1. 如果是数组（array）类型，melt 的用法就很简单，它依次对各维度的名称进行组合将 数据进行线性向量化。
   如果数组有 n 维，那么得到的结果共有 n&#43;1 列，前 n 列记录数组的 位置信息，最后一列才是观测值。
2. 如果是列表数据，melt 函数将列表中的数据拉成两列，一列记录列表元素的值，另一列记录列表元素的名称；
   如果列表中的元素是列表，则增加列变量存储元素名称。元素值排列在前，名称在后，越是顶级的列表元素名称越靠后：
3. 如果数据是数据框类型，melt的参数就稍微复杂些： 
&gt; melt&#40;data, id.vars, measure.vars, variable.name &#61; &quot;variable&quot;, ..., na.rm &#61; FALSE, value.name &#61; &quot;value&quot;&#41; 
其中 id.vars 是被当做维度的列变量，每个变量在结果中占一列；measure.vars 
是被当成观测值的列变量，它们的列变量名称和值分别组成 variable 和 value两列，列变量名称用variable.name 
和 value.name来指定。</code></pre>
<h3 id="ol_start6_循环中创建不同名字的变量"><a href="#ol_start6_循环中创建不同名字的变量" class="header-anchor"><ol start="6">
<li><p>循环中创建不同名字的变量</p>
</li>
</ol>
</a></h3>
<pre><code class="language-sh">用assign&#40;&#41; 函数,eg:
for&#40;i in 1:6&#41; &#123; #-- Create objects  &#39;r.1&#39;, &#39;r.2&#39;, ... &#39;r.6&#39; --
	nam &lt;- paste&#40;&quot;r&quot;, i, sep &#61; &quot;.&quot;&#41;
	assign&#40;nam, 1:i&#41;
&#125;</code></pre>
<h3 id="ol_start7_字符串变成变量名"><a href="#ol_start7_字符串变成变量名" class="header-anchor"><ol start="7">
<li><p>字符串变成变量名</p>
</li>
</ol>
</a></h3>
<code>get&#40;字符串&#41;</code>
<h3 id="ol_start8_字符串处理"><a href="#ol_start8_字符串处理" class="header-anchor"><ol start="8">
<li><p>字符串处理</p>
</li>
</ol>
</a></h3>
<pre><code class="language-sh">paste0&#40;&#41;&#61;paste&#40;,sep&#61;&quot;&quot;&#41;
gsub&#40;&quot;pattern&quot;,&quot;替换pattern&quot;,字符串,perl&#61;Logical,fixed&#61;Logical&#41;
pattern用&#40;&#41;括起来的,在替换pattern中用&quot;\\1-9&quot;来取回:
gsub&#40;&quot;&#40;&#91;ab&#93;&#41;&quot;, &quot;\\1_\\1_&quot;, &quot;abc and ABC&quot;&#41;
若perl&#61;T,则可以使用\\U \\L 强制大小写</code></pre>
<h2 id="r_包安装ubuntu"><a href="#r_包安装ubuntu" class="header-anchor">R 包安装&#40;Ubuntu&#41;</a></h2>
<h3 id="tkrplotrglpk等包安装"><a href="#tkrplotrglpk等包安装" class="header-anchor">tkrplot,Rglpk等包安装</a></h3>
<p>如<code>tkrplot</code>和<code>Rglpk</code>之类的包,直接从<code>install.packages&#40;&#41;</code>装总是说缺这个缺那个装不上,可以尝试用 <code>apt-get</code>安装:</p>
<p>sudo apt-get install R-cran-tkrplot
sudo apt-get install r-cran-rglpk
...</p>
<h3 id="指定镜像源省得每次都选"><a href="#指定镜像源省得每次都选" class="header-anchor">指定镜像源,省得每次都选</a></h3>
<p>默认不加参数的<code>install.packages&#40;&#41;</code>安装包,会让你选择镜像源,有时候TK/TCL还会出错,弹不出窗口,老烦人了,直接安装包时指定源,就不用再选了:</p>
<p>install.packages&#40;&#39;XXXX&#39;,repos&#61;&#39;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&#39;&#41;</p>
<p>可用源的列表在: <a href="https://cran.r-project.org/mirrors.html">这里</a>    </p>
<h2 id="venn图"><a href="#venn图" class="header-anchor">Venn图</a></h2>
<pre><code class="language-sh">#安装VennDiagram包 
install.packages&#40;&quot;VennDiagram&quot;&#41;
#载入VennDiagram包
library&#40;VennDiagram&#41;
venn.diagram&#40;list&#40;A&#61;1:10,B&#61;3:8,C&#61;6:9&#41;, fill&#61;c&#40;&quot;red&quot;,&quot;green&quot;,&quot;blue&quot;&#41;, alpha&#61;c&#40;0.5,0.5,0.5&#41;, cex&#61;2, 
			 cat.fontface&#61;4, fontfamily&#61;3, filename&#61;&quot;VennDiagram.tiff&quot;&#41;	
#DETAIL&#40;最多画5维&#41;
venn.diagram&#40;x, filename, height &#61; 3000, width &#61; 3000, resolution &#61; 500, imagetype &#61; &quot;tiff&quot;, 
			 units &#61; &quot;px&quot;, compression &#61; &quot;lzw&quot;, na &#61; &quot;stop&quot;, main &#61; &quot;&quot;, sub &#61; &quot;&quot;, 
			 main.pos &#61; c&#40;0.5, 1.05&#41;, main.fontface &#61; &quot;plain&quot;, main.fontfamily &#61; &quot;serif&quot;, 
			 main.col &#61; &quot;black&quot;, main.cex &#61; 1, main.just &#61; c&#40;0.5, 1&#41;, sub.pos &#61; c&#40;0.5, 1.05&#41;, 
			 sub.fontface &#61; &quot;plain&quot;, sub.fontfamily &#61; &quot;serif&quot;, sub.col &#61; &quot;black&quot;, sub.cex &#61; 1, 
			 sub.just &#61; c&#40;0.5, 1&#41;, category.names &#61; names&#40;x&#41;, force.unique &#61; TRUE, ...&#41;;</code></pre>
<p>R包画的5维Venn图太丑了,推荐一个网站画的5维venn很好看&#40;最多画5维&#41;: <a href="http://bioinformatics.psb.ugent.be/webtools/Venn/"><code>5维Venn图</code></a></p>
<h2 id="lpmerge做一致性图谱"><a href="#lpmerge做一致性图谱" class="header-anchor">LPmerge做一致性图谱</a></h2>
<pre><code class="language-sh">1.LPmerge 安装:
a. linux系统下载安装 glpk 软件
#https://launchpad.net/ubuntu/&#43;archive/primary/&#43;files/glpk_4.55.orig.tar.gz
./configure --prefix&#61;/home/gst/LOCAL/app/glpk-4.55 &amp; make &amp; make install
b. 设置环境变量到.bashrc:
export LD_LIBRARY_PATH&#61;/home/gst/LOCAL/app/glpk-4.55/lib
export LIBRARY_PATH&#61;/home/gst/LOCAL/app/glpk-4.55/lib
export CPATH&#61;/home/gst/LOCAL/app/glpk-4.55/include
c. 下载Rglpk包并解压
d.	R CMD INSTALL Rglpk		
library&#40;LPmerge&#41;
具体见LPmerge_tutorial.pdf</code></pre>
<h2 id="ggplot技巧"><a href="#ggplot技巧" class="header-anchor">ggplot技巧:</a></h2>
<h3 id="零散"><a href="#零散" class="header-anchor"><ol>
<li><p>零散</p>
</li>
</ol>
</a></h3>
<ul>
<li><p>柱状图可能某个柱条为空，去掉空的柱条：加上 factor:</p>
</li>
</ul>
<pre><code class="language-sh">&gt;ggplot&#40;data,aes&#40;x &#61; factor&#40;myX&#41;, y &#61; myY&#41;&#41;</code></pre>
<ul>
<li><p>把 ggplot 对象以图片形式保存到本地：</p>
</li>
</ul>
<pre><code class="language-sh">&gt; p &#61; ggplot&#40;···&#41; &#43; ···
&gt; ggsave&#40;&quot;picture1.png&quot;, path &#61; &quot;C:/workspace&quot;, width &#61; 10, height &#61; 6, dpi &#61; 300&#41;</code></pre>
<ul>
<li><p>如何将 ggplot2 中的图片标题放在下方（默认在图片正上方）：</p>
</li>
</ul>
<pre><code class="language-sh">theme&#40;title &#61; element_text&#40;vjust &#61; -50&#41;&#41;   ## 好像没有调相对坐标的参数，只能用绝对坐标来调了</code></pre>
<ul>
<li><p>全白主题：</p>
</li>
</ul>
<pre><code class="language-perl">theme&#40;panel.background &#61; element_rect&#40;fill &#61; &quot;transparent&quot;, color &#61; &quot;gray&quot;&#41;,legend.key &#61; element_rect&#40;fill &#61; &quot;transparent&quot;, color &#61; &quot;transparent&quot;&#41;&#41;</code></pre>
<h3 id="ol_start2_一页多图"><a href="#ol_start2_一页多图" class="header-anchor"><ol start="2">
<li><p>一页多图:</p>
</li>
</ol>
</a></h3>
<h4 id="方法1"><a href="#方法1" class="header-anchor">方法1:</a></h4>
<pre><code class="language-sh">library&#40;ggplot2&#41;
library&#40;grid&#41;
a &lt;- qplot&#40;1&#41;							#画图a
b &lt;- qplot&#40;2,2,geom&#61;&quot;point&quot;&#41;			#画图b
grid.newpage&#40;&#41;							#新建一个空白页
pushViewport&#40;viewport&#40;layout &#61; grid.layout&#40;nrow &#61; 1, ncol &#61; 2&#41;&#41;&#41; #设置好页面布局，1 行 2 列
print&#40;a, vp &#61; viewport&#40;layout.pos.row &#61; 1, layout.pos.col &#61; 1&#41;&#41; #将 a 图放在第 1 行第 1 列
print&#40;b, vp &#61; viewport&#40;layout.pos.row &#61; 1, layout.pos.col &#61; 2&#41;&#41; #将 b 图放在第 1 行第 2 列</code></pre>
<h4 id="方法2"><a href="#方法2" class="header-anchor">方法2:</a></h4>
<pre><code class="language-sh">library&#40;gridExtra&#41;
a &lt;- qplot&#40;TMPRSS4, ECADHERIN, data&#61;spear&#41;
b &lt;- qplot&#40;TMPRSS4, ECADHERIN, data&#61;spear, geom&#61;&quot;jitter&quot;&#41;
grid.arrange&#40;a,b,ncol&#61;2&#41;</code></pre>
<p>自定义布局:</p>
<p>用矩阵:</p>
<pre><code class="language-sh">gs &lt;- lapply&#40;1:8, function&#40;ii&#41; grobTree&#40;rectGrob&#40;gp&#61;gpar&#40;fill&#61;ii, alpha&#61;0.5&#41;&#41;, textGrob&#40;ii&#41;&#41;&#41;
lay &lt;- rbind&#40;c&#40;1,1,1,2,3&#41;,	 
c&#40;1,1,1,4,5&#41;,
c&#40;6,7,8,NA,NA&#41;&#41;
grid.arrange&#40;grobs &#61; gs, layout_matrix &#61; lay&#41;
#可以用NA关闭某块,但布局数应和图像数相同</code></pre>
<h4 id="方法3_分面"><a href="#方法3_分面" class="header-anchor">方法3_分面</a></h4>
<h5 id="缠绕分面"><a href="#缠绕分面" class="header-anchor">缠绕分面</a></h5>
<pre><code class="language-sh">facet_wrap&#40;facets, nrow &#61; NULL, ncol &#61; NULL, scales &#61; &quot;fixed&quot;, shrink &#61; TRUE, as.table &#61; TRUE,
			switch&#61;NULL, drop &#61; TRUE&#41;
#facets：分面参数如 ~cut，表示用 cut 变量进行数据分类,~cut&#43;drv 多变量分面
#nrow：绘制图形的行数
#ncol：绘制图形的列数，一般nrow/ncol只设定一个即可
#scales：坐标刻度的范围，可以设定四种类型。fixed 表示所有小图均使用统一坐标范围；
#        free表示每个小图按照各自数据范围自由调整坐标刻度范围；
#		 free_x为自由调整x轴刻度范围；free_y为自由调整y轴刻度范围。
#shrinks：也和坐标轴刻度有关，如果为TRUE（默认值）则按统计后的数据调整刻度范围，
#		  否则按统计前的数据设定坐标。
#as.table：和小图排列顺序有关的选项。如果为TRUE（默认）则按表格方式排列，
#			即最大值（指分组level值）排在表格最后即右下角，否则排在左上角。
#swith: 标签位置，默认“null”位于上方，“x”X轴下方，“y”y轴左侧，
#drop：是否丢弃没有数据的分组，如果为TRUE（默认），则空数据组不绘图。</code></pre>
<h6 id="格网分面"><a href="#格网分面" class="header-anchor">格网分面:</a></h6>
<p>应用多个标准对数据进行分组</p>
<pre><code class="language-sh">facet_grid&#40;facets, margins &#61; FALSE, scales &#61; &quot;fixed&quot;, space &#61; &quot;fixed&quot;, shrink &#61; TRUE, 
		   labeller &#61; &quot;label_value&quot;, as.table &#61; TRUE, drop &#61; TRUE&#41; 
#facets: &lt;分行变量&gt;~&lt;分列变量&gt;
#和facet_wrap比较，除不用设置ncol和nrow外（facets公式已经包含）外还有几个参数不同：
#margins：这不是设定图形边界的参数。它是指用于分面的包含每个变量元素所有数据的数据组。	
#space:	这个参数要配合scales使用，如果为fixed（默认），所有小图的大小都一样，
#		如果为free/free_x/free_y，小图的大小将按照坐标轴的跨度比例进行设置。
#labeller:	这是设定小图标签的，facet_grid的函数说明档讲得比较明白，参考之</code></pre>
<h3 id="ol_start3_坐标相关"><a href="#ol_start3_坐标相关" class="header-anchor"><ol start="3">
<li><p>坐标相关</p>
</li>
</ol>
</a></h3>
<pre><code class="language-sh">#坐标轴显示范围:
scale_x_continuous&#40;limits &#61; c&#40;-5,15&#41;&#41;   ## 方法一
xlim&#40;-5,15&#41;   ## 方法二
xlim&#40;min&#40;dt&#36;A, 0&#41;*1.2, max&#40;dt&#36;A&#41;*1.2&#41;   ## 使用倍数来限定大小，注意定义最小值的方式

#坐标轴的标签
p &#43; xlab&#40;&quot;这是 X 轴&quot;&#41; &#43; ylab&#40;&quot;这是 Y 轴&quot;&#41; &#43; ggtitle&#40;&quot;这是标题&quot;&#41;   ## 修改文字方法一
p &#43; labs&#40;x &#61; &quot;这是 X 轴&quot;, y &#61; &quot;这是 Y 轴&quot;, title &#61; &quot;这是标题&quot;&#41;   ## 修改文字方法二

# 修改 X 轴标签的大小、字体、颜色、加粗、位置、角度 ####
p &#43; xlab&#40;&quot;这是 X 轴&quot;&#41; &#43; theme&#40;axis.title.x &#61; element_text&#40;size &#61; 15, family &#61; &quot;myFont&quot;, color &#61; &quot;green&quot;, 
	face &#61; &quot;bold&quot;, vjust &#61; 0.5, hjust &#61; 0.5, angle &#61; 45&#41;&#41;	
## face取值：plain普通，bold加粗，italic斜体，bold.italic斜体加粗	

#修改坐标轴的刻度标签（内容）
scale_y_continuous&#40;limits&#61;,breaks&#61;,labels &#61;&#41;</code></pre>
<h2 id="进化相关"><a href="#进化相关" class="header-anchor">进化相关</a></h2>
<h3 id="ape_进化树"><a href="#ape_进化树" class="header-anchor"><ol>
<li><p>ape 进化树</p>
</li>
</ol>
</a></h3>
<p>读入:</p>
<pre><code class="language-sh">read.tree&#40;&quot;file&quot;&#41;</code></pre>
<h3 id="ol_start2_ggtree_进化树"><a href="#ol_start2_ggtree_进化树" class="header-anchor"><ol start="2">
<li><p>ggtree 进化树</p>
</li>
</ol>
</a></h3>
<p>安装:</p>
<pre><code class="language-sh">source&#40;&quot;http://bioconductor.org/biocLite.R&quot;&#41;
biocLite&#40;&quot;ggtree&quot;&#41;</code></pre>
<p>依赖&quot;EBImage&quot;包,但是EBImage包需要tiff和fftw的支持:</p>
<p>linux无root编译tiff:</p>
<p>下载<a href="ftp://ftp.remotesensing.org/libtiff/tiff-4.0.6.tar.gz">tiff</a>.解压后: </p>
<pre><code class="language-sh">./configure --prefix&#61;/自己的目录
make -j8 &amp;&amp; make install
然后在.bashrc中加入以下环境变量:
178 export PATH&#61;/home/gst/LOCAL/app/tiff-4.0.4/bin:&#36;PATH
179 export LD_LIBRARY_PATH&#61;/home/gst/LOCAL/app/tiff-4.0.4/lib:&#36;LD_LIBRARY_PATH
180 export LIBRARY_PATH&#61;/home/gst/LOCAL/app/tiff-4.0.4/lib:&#36;LIBRARY_PATH
181 export CPATH&#61;/home/gst/LOCAL/app/tiff-4.0.4/include:&#36;CPATH</code></pre>
<p>linux下无root编译fftw: 下载<a href="ftp://ftp.fftw.org/pub/fftw/fftw-3.3.5.tar.gz">fftw</a>,解压:</p>
<pre><code class="language-sh">./configure --prefix /自己目录  --enable-shared #加上参数 --enable-shared，才会生成动态链接库
make -j8 &amp;&amp; make install
然后在 .bashrc中加入以下环境变量&#40;我也不知道哪个管用 乱试 居然成功了&#33;fk&#33;&#41;:
184 export LD_LIBRARY_PATH&#61;/home/gst/LOCAL/app/fftw/lib:&#36;LD_LIBRARY_PATH
185 export LIBRARY_PATH&#61;/home/gst/LOCAL/app/fftw/lib:&#36;LIBRARY_PATH
186 export CPATH&#61;/home/gst/LOCAL/app/fftw/include:&#36;CPATH
187 export FFTW_LIBS&#61;/home/gst/LOCAL/app/fftw/lib
188 export FFTW_CFLAGS&#61;/home/gst/LOCAL/app/fftw/include
189 export CPPFLAGS&#61;/home/gst/LOCAL/app/fftw/include
190 export PKG_CONFIG_PATH&#61;/home/gst/LOCAL/app/fftw/lib
然后进R,biocLite安装ggtree成功&#33;</code></pre>
<h2 id="mareymap分析重组值"><a href="#mareymap分析重组值" class="header-anchor">MareyMap分析重组值</a></h2>
<p>在服务器上无法安装MareyMap包,因为无法安装tkrplot包,开始以为是tk/tcl的问题,下载安装Activetcl, 并将头文件目录加入环境变量:</p>
<code>export C_INCLUDE_PATH&#61;/home/gst/LOCAL/app/ActiveTcl/include</code>
<p>之后仍然一直报错:<code>Tcl/Tk support is not available on this system</code></p>
<p>网上说自行编译R,在编译时要指定支持tk/tcl,重新编译:</p>
<pre><code class="language-sh">./configure --with-tcltk --prefix&#61;/home/gst/R-revised \
--with-tcl-config&#61;/home/gst/LOCAL/app/ActiveTcl/lib/tclConfig.sh \
--with-tk-config&#61;/home/gst/LOCAL/app/ActiveTcl/lib/tkConfig.sh 

make -j8 &amp; make install</code></pre>
<p>还是报错,于是放弃&#33;&#33;&#33;</p>
<p>在自己电脑上安装成功.</p>
<p>2016年6月2日</p>
<p>由于之前把ActiveTcl的lib和include都放在了自己的主目录下,并设置了环境变量:</p>
<pre><code class="language-sh">export LIBRARY_PATH&#61;/home/gst/LOCAL/lib
export CPLUS_INCLUDE_PATH&#61;/home/gst/LOCAL/include
export C_INCLUDE_PATH&#61;/home/gst/LOCAL/include</code></pre>
<p>重新编译安装R,指定支持tk/tcl:	</p>
<pre><code class="language-sh">./configure --with-tcltk --prefix&#61;/home/zhuawu/GuiSongtao/software/R-revised \
--with-tcl-config&#61;/home/zhuawu/GuiSongtao/software/ActiveTcl/lib/tclConfig.sh \
--with-tk-config&#61;/home/zhuawu/GuiSongtao/software/ActiveTcl/lib/tkConfig.sh 
#in zzx:
./configure --with-tcltk --prefix&#61;/lustre/home/jiangff/software/app/R \
--with-tcl-config&#61;/lustre/home/jiangff/software/app/ActiveTcl/lib/tclConfig.sh \
--with-tk-config&#61;/lustre/home/jiangff/software/app/ActiveTcl/lib/tkConfig.sh
make -j8 &amp; make install
测试是否正确支持tk/tcl:
R&gt; capabilities&#40;&#41;&#91;&quot;tcltk&quot;&#93;
tcltk 
TRUE 
成功&#33;&#33;&#33;&#33;&#33;&#33;
install.packages&#40;&quot;MareyMap&quot;&#41;
成功&#33;&#33;&#33;&#33;&#33;</code></pre>
<h2 id="颜色相关"><a href="#颜色相关" class="header-anchor">颜色相关</a></h2>
<pre><code class="language-sh">scales包中的alpha函数可以自定义透明度,返回HEX代码的颜色:
library&#40;scales&#41;
alpha&#40;&quot;red&quot;,0.5&#41;</code></pre>
<h2 id="绘图参数_par"><a href="#绘图参数_par" class="header-anchor">绘图参数 par</a></h2>
<p>par&#40;&#41;函数是R里有关绘图的重要函数之一，以下是对par&#40;&#41;函数说明内容的一些整理。</p>
<p>描述：</p>
<p>par函数用于设定或询问绘图参数。参数设定可通过par&#40;参数名 &#61; 取值&#41;或par&#40;赋值参数列表&#41;的形式进行。</p>
<p>用法：</p>
<code>par&#40;..., no.readonly &#61; FALSE&#41;</code>
<p>函数变量：</p>
<p>... “参数名 &#61; 取值”或“赋值参数列表”形式的变量。</p>
<p>no.readonly 逻辑变量。如&#61; TRUE且没有其他变量， 则返回当前绘图设备下已设定好的绘图参数。</p>
<p>参数：</p>
<p>参数分为三类：</p>
<ol>
<li><p>仅仅用于询问不能被设定的参数：cin，cra，csi，cxy，dim。</p>
</li>
<li><p>仅能通过par&#40;&#41;设定参数：ask，fig，fin，lheight，mai，mar，mex，mfcol，mfrow，mfg，new，oma，omd，</p>
</li>
</ol>
<p>					  omi，pin，plt，ps，pty，usr，xlog，ylog。</p>
<ol start="3">
<li><p>除了par&#40;&#41;，也能在其他高级绘图函数中设定的参数。</p>
</li>
</ol>
<p>应用中，涉及这三类参数最多的是第 3 类，最少的是第 1 类。</p>
<p>查看当前参数的赋值用<code>par&#40;&quot;参数名&quot;&#41;</code></p>
<h4 id="第_3_类参数"><a href="#第_3_类参数" class="header-anchor">第 3 类参数：</a></h4>
<pre><code class="language-sh">adj 
调整函数text，mtext，title里文本串的位置。
	&#61; 0：文本串左对齐；
	&#61; 0.5（缺省）：文本串 居中；
	&#61; 1：文本串右对齐。
ann 
&#61; FALSE：不进行绘图解释标记（例如横轴标题等）。
bg 
设置绘图区背景色。缺省为bg &#61; &quot;transparent&quot;。
bty 
设置绘图边框的形式。        &#61; &quot;o&quot;（缺省）：四周边框；
							&#61; &quot;l&quot;：左下边框；
							&#61; &quot;7&quot;：右上边框；
							&#61; &quot;c&quot;：上左 下边框；
						    &#61; &quot;u&quot;：左下右边框；
						    &#61; &quot;&#93;&quot;：上右下边框；
						    &#61; &quot;n&quot;；无边框。
cex 
设置文本和符合的尺度。缺省为cex &#61; 1。
cex.axis 
相对于当前的cex设置，放大坐标标记（坐标轴标记的数字）。缺省为cex.axis &#61; 1。
cex.lab 
相对于当前的cex设置，放大坐标轴标题。缺省为cex.lab &#61; 1。
cex.main 
相对于当前的cex设置，放大图标题。缺省为cex.main &#61; 1。
cex.sub 
相对于当前的cex设置，放大图副标题。缺省为cex.sub &#61; 1。
col 
设置绘图颜色。缺省为col &#61; &quot;black&quot;。
col.axis 
设置坐标标记颜色。缺省为col.axis &#61; &quot;black&quot;。
col.lab 
设置坐标轴标题颜色。缺省为col.lab &#61; &quot;black&quot;。
col.main 
设置图标题颜色。缺省为col.main &#61; &quot;black&quot;。
col.sub 
设置图副标题颜色。缺省为col.sub &#61; &quot;black&quot;。
crt 
缺省为crt &#61; 0。
err 
期望的错误报告程度（像该参数目前在R中未生效）。缺省为err &#61; 0。
family 
设置文本字体字体族。缺省为family &#61; &quot;&quot;。
fg 
设置前景色，主要用于坐标轴，边框，图形等，对坐标标记与坐标轴标题等外围无影响。缺省 为fg &#61; &quot;black&quot;。
font 
设置文本字体。&#61; 1（缺省）：普通字体；&#61; 2：粗体；&#61; 3：斜体；&#61; 4：粗斜体；...。
font.axis 
设置坐标标记字体。
font.lab 
设置坐标轴标题字体。
font.main 
设置图标题字体。
font.sub 
设置图副标题字体。
lab 
设置坐标轴刻度数，lab &#61; c&#40;x,y,len&#41;形式，目前len的设置在R中未生效。缺省为lab &#61; c&#40;5,5,7&#41;。
las 
设置坐标标记显示方向。
	&#61; 0（缺省）：平行于坐标轴；
	&#61; 1：平行于x轴；
	&#61; 2：垂直于坐标 轴；
	&#61; 3：平行于y轴。
lend 
设置线结束端的形状（只有把线画很粗才能看出来）。
	&#61; 0（缺省）：圆形；
	&#61; 1：“短”方 形；
	&#61; 2：“长”方形。
ljoin 
设置线交接处的性质（只有把线画很粗才能看出来）。
	&#61; 0（缺省）：圆角；
	&#61; 1：方角；
	&#61; 2：切方角顶角。
lmitre 
设置ljoin里方角向切方角顶角过渡的程度。缺省为lmitre &#61; 10。
lty 
设置线的类型。
	&#61; 0：空白；
	&#61; 1：（缺省）实线；
	&#61; 2：短线虚线；
	&#61; 3：点虚线；
	&#61; 4：短线点 虚线；
	&#61; 5：长线虚线；
	&#61; 6：长短线虚线。
lwd 
设置线宽。缺省为lwd &#61; 1。
mgp 
设置坐标轴标题，坐标标记和坐标轴边界宽度。
	mgp&#91;1&#93;影响坐标轴标题，
	mgp&#91;2,3&#93;影响坐标标记和坐标轴。
	缺省为mgp &#61; c&#40;3,1,0&#41;。
pch 
设置点的类型。缺省为pch &#61; 1。
srt 
逆时针选择字符串，单位为°，只用于text函数。缺省srt &#61; 0。
tck 
设置坐标刻度线长与方向（与图宽和高的较小者成比例）。缺省为tck &#61; &quot;NA&quot;。
tcl 
设置坐标刻度线长与方向（与文本行高成比例）。缺省为tcl &#61; -0.5。
xaxs,yaxs 
设置坐标轴的范围。
	&#61; &quot;r&quot;（缺省）：先将数据范围向双边扩大4&#37;，然后绘图；
	&#61; &quot;i&quot;：在原始 数据范围内绘图。
xaxt,yaxt 
设置坐标轴样式。
	&#61; &quot;s&quot;（缺省）：标准样式；
	&#61; &quot;n&quot;：不绘坐标轴。</code></pre>
<h4 id="第_2_类函数"><a href="#第_2_类函数" class="header-anchor">第 2 类函数：</a></h4>
<pre><code class="language-sh">ask 
&#61; TRUE：在新图绘制前进行提示。
fig 
	设定图在绘图设备中的位置，fig &#61; c&#40;x1,x2,y1,y2&#41;的数值向量（0&lt;&#61;x1&lt;x2&lt;&#61;1； 0&lt;&#61;y1&lt;y2&lt;&#61;1）。
	缺省为fig &#61; c&#40;0,1,0,1&#41;。（注：设定即开始新的绘图）
fin 
设定绘图区的宽和高。缺省为fin &#61; c&#40;6.999999,6.999999&#41;。（注：设定即开始新的绘图）
lheight 
设置文本行高。缺省为lheight &#61; 1。
mai 
设置图形空白边界，mai &#61;c&#40;bottom, left, top, right&#41;，单位为英寸。缺省 为mai &#61; c&#40;1.02,0.82,0.82,0.42&#41;。
mar 
设置图形空白边界行数，mar &#61; c&#40;bottom, left, top, right&#41;。缺省为mar &#61; c&#40;5.1,4.1,4.1,2.1&#41;。
mex 
设置图形空白边界尺度。缺省为mex &#61; 1。
mfcol,mfrow 
	设置小图数量与位置，取值为数值型向量c&#40;nr, nc&#41;形式，
	表示把图分为nr行nc列个小图，图形顺序按列排（mfcol）或按行排（mfrow）。
mfg 
	设置工作小图，mfg &#61; c&#40;i,j&#41;，表示把第i行第j列的小图设为当前工作小图。
	（需在mfcol 或mfrow使用后才能使用该参数）
new 
&#61; TRUE：下一高水平绘图指令不会清楚已绘的图，而是在原有图基础上继续绘新图。
oma 
设定图形的外边界大小，oma &#61; c&#40;bottom,left,to,right&#41;，单位为文本行数。缺省为oma &#61; c&#40;0,0,0,0&#41;
omd 
设定图形外边界内部占图形设备的比例，omd &#61; c&#40;x1,x2,y1,y2&#41;。缺省为omd &#61; c&#40;0,1,0,1&#41;。
omi 
设定图形的外边界大小，omi &#61; c&#40;bottom,left,to,right&#41;，单位为英寸。缺省为oma &#61; c&#40;0,0,0,0&#41;
pin 
设定当前图的长宽，pin &#61; c&#40;width,height&#41;。
plt 
设定绘图区&#40;plot region&#41;占图形区&#40;figure region&#41;的比例，plt&#61;c&#40;x1,x2,y1,y2&#41;。
ps 
设置文本点的大小。缺省为ps &#61; 12。
pty 
设置作图类型。
	&#61; “m”（缺省）：最大化作图；
	&#61; &quot;s&quot;：方形图。
usr 
	设置图的坐标范围，usr &#61; c&#40;x1,x2,y1,y2&#41;，即横坐标在x1到x2之间，纵坐标在y1到y2之间。
	若xlog或ylog参数为TRUE，则usr设置的点按10^c&#40;x1,x2,y1,y2&#41;使用。
xlog 
&#61; TRUE：横坐标取对数。
ylog 
&#61; TRUE：纵坐标取对数</code></pre>
<h2 id="r基础绘图_plot"><a href="#r基础绘图_plot" class="header-anchor">R基础绘图 plot</a></h2>
<p>详见<code>D:\Works\BOOKS\LANGUAGE\R\R 语言资料大全\R-导论中文版.pdf</code></p>


</div>
<!-- article style -->


 <hr>

<script src="https://utteranc.es/client.js"
    repo="songtaogui/blog_comments"
    issue-term="pathname"
    theme="github-light"
    crossorigin="anonymous"
    async>
</script>


<hr> 

<div class="container">
    
    <footer class="site-footer">
        <p class="powered-by">
          <script type="text/javascript" src="//rf.revolvermaps.com/0/0/4.js?i=5jnkqismgmy&amp;m=5&amp;h=128&amp;c=baff00&amp;r=0" async="async"></script><br>
            Total visits: <span id="busuanzi_value_site_pv"></span>.<br>
            Built with <a href="https://franklinjl.org" target="_blank" rel="noopener">Franklin.jl</a> and <a
                href="https://julialang.org" target="_blank" rel="noopener">Julia</a>.<br>
            Texts are licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.<br>
            Codes are licensed under the <a href="https://mit-license.org/">MIT License</a>.<br>
            <strong>&copy; Songtao Gui</strong>. Last modified: October 22, 2023.
          </p>
    </footer>
    
</div>
</div>


</div>
<!--article container -->
</article>


<!-- CONTENT ENDS HERE -->

 <script src="/libs/highlight/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>
 

<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js
    integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js
    integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js
    integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script>
<script src="/libs/academic/academic.min.js"></script>
<script src="/libs/pure/ui.js"></script>

</body>


 <a class="js-back-to-top back-to-top-button" href="#">
    <img src="/assets/img/up.svg" style="width: 100px;">
</a>
<!-- <button class="js-back-to-top back-to-top-button" title="BackToTop">︽</button> -->
<script src="https://cdn.staticfile.org/jquery/2.2.4/jquery.min.js"></script>
<script>
    $(function () {
        var $win = $(window);
        var $backToTop = $('.js-back-to-top');
        // 当用户滚动到离顶部100像素时，展示回到顶部按钮
        $win.scroll(function () {
            if ($win.scrollTop() > 100) {
                $backToTop.show();
            } else {
                $backToTop.hide();
            }
        });
        // 当用户点击按钮时，通过动画效果返回头部
        $backToTop.click(function () {
            $('html, body').animate({
                scrollTop: 0
            }, 200);
        });
    });
</script>
<style>
    /* back to top button */
    .back-to-top-button {
        display: none;
        position: fixed;
        width: 50px;
        bottom: 3%;
        right: 3%;
        z-index: 99;
        font-size: 15px;
        border: 0px solid #696969;
        background-color: #fff;
        color: #222222;
        outline: none;
        cursor: pointer;
        padding: 7px;
        border-radius: 40px;
    }

    .back-to-top-button:hover {
        background-color: #c0dbf5;
        color: #fff;
    }
</style> 


<!-- PJAX配置: 先不搞了! -->
<!--   
  <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script>
  
  <script>
    var pjax = new Pjax({
      elements: "a",
      selectors: [
        "title",
        "meta[name=description]",
        ".the-header",
        ".the-content",
        ".the-sidebar",
      ]
    })
  </script> -->

</html>



