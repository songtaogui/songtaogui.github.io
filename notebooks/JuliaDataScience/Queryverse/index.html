
<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="sKCEBeALSs13uui0cWMviq9hlm0rPByKQKNHnOdq-d0" />
    <meta name="baidu-site-verification" content="code-MBwKQgVpns" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Songtao Gui">

    
    <meta name="description" content="å­¦ä¹  Queryverse ç³»åˆ—å·¥å…·ä½¿ç”¨
">
    

    
    
    <meta name="keywords" content="Juliaæ•°æ®ç§‘å­¦ç³»åˆ—-Queryverseç³»åˆ—åŒ…">
    <title>Juliaæ•°æ®ç§‘å­¦ç³»åˆ—-Queryverseç³»åˆ—åŒ…</title>
    

    <link rel="icon" href="/assets/favicon.svg">

    <!-- Dark mode -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
    <script>
        function addDarkmodeWidget()
        {
            const options = {
                top: 'unset',
                bottom: 'unset', /* default: '32px' */
                right: 'unset', /* default: '32px' */
                left: '50px', /* default: 'unset' */
                time: '.0s', /* default: '0.3s' */
                mixColor: '#fff', /* default: '#fff' */
                backgroundColor: '#fff', /* default: '#fff' */
                buttonColorDark: '#100f2c', /* default: '#100f2c' */
                buttonColorLight: '#fff', /* default: '#fff' */
                saveInCookies: true, /* default: true, */
                label: 'ğŸŒ“', /* default: '' */
                autoMatchOsTheme: true /* default: true */
            };
            new Darkmode(options).showWidget();
        };
        window.addEventListener('DOMContentLoaded', addDarkmodeWidget);
    </script> -->
    
<link rel=preconnect href="https://fonts.gstatic.com" crossorigin=anonymous>
<link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    crossorigin=anonymous>
<link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"
    crossorigin=anonymous>
<link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" crossorigin=anonymous>
<link rel=stylesheet
    href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"
    crossorigin=anonymous>
<!-- locally served -->
<link rel="stylesheet" href="/css/pure.css">
<link rel=stylesheet href="/libs/academic/academic.min.css">
<link rel="stylesheet" href="/css/layout.css">
<link rel="stylesheet" href="/css/extra.css">
<link rel=stylesheet href="/css/codeset.css">
<link rel=stylesheet href="/css/admonition.css">
<link rel=stylesheet href="/css/cv.css">
<link rel=stylesheet href="/css/search-box.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
<link rel=stylesheet href="/css/vega.css">
<!-- <link rel=stylesheet href="/css/font-awesome.css"> -->

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!-- nutshell + highlight + katex + plotly -->

<link rel=stylesheet href="/libs/highlight/styles/atom-one-light.min.css">






    <!-- Vega -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.0/dist/svg.min.js"></script>
    <style media="screen">
        /* Add space between Vega-Embed links  */
        .vega-actions a {
          margin-right: 5px;
        }
    </style>
    <!-- end Vega -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js"
        integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script>
</head>

<body id=top data-spy="scroll" data-offset="70" data-target=#navbar-main>
    <!-- Swiftype -->
    <script type="text/javascript">
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
        (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
        
        _st('install','J57vdqtTa8oYL-ikpKNG','2.0.0');
    </script>
    
     <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main>
    <div class=container>
        <!-- Main name -->
        <div class="d-none d-lg-inline-flex">
            <a class=navbar-brand href="/">Songtao Gui</a>
        </div>
        <!-- Button for narrow mode -->
        <button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar
            aria-expanded=false aria-label="Toggle navigation">
            <span><i class="fas fa-bars"></i></span>
        </button>
        <!-- Main name for mobile mode -->
        <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
            <a class=navbar-brand href="/">Songtao Gui</a>
        </div>
        <!-- Menu items -->
        <div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content>
            <ul class="navbar-nav d-md-inline-flex">
                <li class=nav-item><a class=nav-link href="/posts/"><span>Posts</span></a></li>
                <li class=nav-item><a class=nav-link href="/courses/"><span>Courses</span></a></li>
                <li class=nav-item><a class=nav-link href="/notebooks/"><span>Notebooks</span></a></li>
                <li class=nav-item><a class=nav-link href="/cv/"><span>CurriculumVitae</span></a></li>
                <li class=nav-item><a class=nav-link href="/tag/"><span>Tags</span></a></li>
            </ul>
        </div>
        <!-- <div class="nav-linksmall d-none d-lg-inline-flex inputBox">
                <input type="text" class="st-default-search-input" placeholder="Input then press ENTER" value="" required>
                <div class="search"></div>
            <script>
                var searchForm = document.getElementById('searchForm');
                searchForm.onsubmit = function () {
                    var url = this.action;
                    var q = this.children['q'].value;
                    var q = 'site:songtaogui.github.io+' + q
                    // var site = this.children['site'].value;
                    var url = url + '?q=' + q;
                    window.open(url,'__blank');
                    return false;
                };
            </script>
        </div> -->
        <!-- åŸºäºbing siteæœç´¢: -->
        <div class="nav-linksmall d-none d-lg-inline-flex inputBox">
            <form action="https://bing.com/search" id="searchForm">
                <input type="text" name="q" value="" placeholder="Input then press ENTER" value="" required>
                <div class="search"></div>
            </form>
            <script>
                var searchForm = document.getElementById('searchForm');
                searchForm.onsubmit = function () {
                    var url = this.action;
                    var q = this.children['q'].value;
                    var q = 'site:songtaogui.github.io+' + q
                    // var site = this.children['site'].value;
                    var url = url + '?q=' + q;
                    window.open(url,'__blank');
                    return false;
                };
            </script>
        </div>
        <!-- <div class="nav-icon d-none d-lg-inline-flex"> -->
        <div class="nav-icon">
            <a class=nav-linksmall href="/giants" target="_blank"><span><img class="nav-img"
                src="/assets/img/giant.svg"></span></a>
            <a class=nav-linksmall href="/achievements/" target="_blank"><span><img class="nav-img"
                        src="/assets/img/achievement.svg"></span></a>
            <a class=nav-linksmall href="/feed.xml" target="_blank"><span><img class="nav-img"
                        src="/assets/img/rss.svg"></span></a>
            <a class=nav-linksmall href="/musics" target="_blank"><span><img class="nav-img"
                        src="/assets/img/music.svg"></span></a>
        </div>

    </div>
</nav> 

    <span class="js-widget-page d-none"></span>

    
    <article class=article>
        <div class="article-container pt-3">
             <h1>Juliaæ•°æ®ç§‘å­¦ç³»åˆ—-Queryverseç³»åˆ—åŒ…</h1> 
        </div>
        
        <div class="article-container">
            <!-- å…³é—­article-style, ä¸ç„¶è·Ÿnutshellä¸å…¼å®¹ -->
            <!-- <div class="gst-style"> -->
            <div class="layout-main">
                <!-- <div class="article-style"> -->
                
                
                <div class="franklin-content">
<div class="tags"><a href="/tag/" id="tag-icon"><svg width="20" height="20" viewBox="0 0 512 512"><defs><style>.cls-1{fill:#141f38}</style></defs><path class="cls-1" d="M215.8 512a76.1 76.1 0 0 1-54.17-22.44L22.44 350.37a76.59 76.59 0 0 1 0-108.32L242 22.44A76.11 76.11 0 0 1 296.2 0h139.2A76.69 76.69 0 0 1 512 76.6v139.19A76.08 76.08 0 0 1 489.56 270L270 489.56A76.09 76.09 0 0 1 215.8 512zm80.4-486.4a50.69 50.69 0 0 0-36.06 14.94l-219.6 219.6a51 51 0 0 0 0 72.13l139.19 139.19a51 51 0 0 0 72.13 0l219.6-219.61a50.67 50.67 0 0 0 14.94-36.06V76.6a51.06 51.06 0 0 0-51-51zm126.44 102.08A38.32 38.32 0 1 1 461 89.36a38.37 38.37 0 0 1-38.36 38.32zm0-51a12.72 12.72 0 1 0 12.72 12.72 12.73 12.73 0 0 0-12.72-12.76z"/><path class="cls-1" d="M217.56 422.4a44.61 44.61 0 0 1-31.76-13.16l-83-83a45 45 0 0 1 0-63.52L211.49 154a44.91 44.91 0 0 1 63.51 0l83 83a45 45 0 0 1 0 63.52L249.31 409.24a44.59 44.59 0 0 1-31.75 13.16zm-96.7-141.61a19.34 19.34 0 0 0 0 27.32l83 83a19.77 19.77 0 0 0 27.31 0l108.77-108.7a19.34 19.34 0 0 0 0-27.32l-83-83a19.77 19.77 0 0 0-27.31 0l-108.77 108.7z"/><path class="cls-1" d="M294.4 281.6a12.75 12.75 0 0 1-9-3.75l-51.2-51.2a12.8 12.8 0 0 1 18.1-18.1l51.2 51.2a12.8 12.8 0 0 1-9.05 21.85zM256 320a12.75 12.75 0 0 1-9.05-3.75l-51.2-51.2a12.8 12.8 0 0 1 18.1-18.1l51.2 51.2A12.8 12.8 0 0 1 256 320zM217.6 358.4a12.75 12.75 0 0 1-9-3.75l-51.2-51.2a12.8 12.8 0 1 1 18.1-18.1l51.2 51.2a12.8 12.8 0 0 1-9.05 21.85z"/></svg></a><a href="/tag/datascience/">datascience</a>, <a href="/tag/doc/">doc</a>, <a href="/tag/julia/">julia</a>, <a href="/tag/statistics/">statistics</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="tag-icon"><svg width="20" height="20" class="icon" viewBox="0 0 1024 1024" version="1.1" p-id="3825" width="64" height="64"><path d="M512 416a96 96 0 1 0 0 192 96 96 0 0 0 0-192z m511.952 102.064c-0.016-0.448-0.064-0.864-0.096-1.296a8.16 8.16 0 0 0-0.08-0.656c0-0.32-0.064-0.624-0.128-0.928-0.032-0.368-0.064-0.736-0.128-1.088-0.032-0.048-0.032-0.096-0.032-0.144a39.488 39.488 0 0 0-10.704-21.536c-32.672-39.616-71.536-74.88-111.04-107.072-85.088-69.392-182.432-127.424-289.856-150.8-62.112-13.504-124.576-14.064-187.008-2.64-56.784 10.384-111.504 32-162.72 58.784-80.176 41.92-153.392 99.696-217.184 164.48-11.808 11.984-23.552 24.224-34.288 37.248-14.288 17.328-14.288 37.872 0 55.216 32.672 39.616 71.52 74.848 111.04 107.056 85.12 69.392 182.448 127.408 289.888 150.784 62.096 13.504 124.608 14.096 187.008 2.656 56.768-10.4 111.488-32 162.736-58.768 80.176-41.936 153.376-99.696 217.184-164.48 11.792-12 23.536-24.224 34.288-37.248 5.712-5.872 9.456-13.44 10.704-21.568l0.032-0.128a12.592 12.592 0 0 0 0.128-1.088c0.064-0.304 0.096-0.624 0.128-0.928l0.08-0.656 0.096-1.28c0.032-0.656 0.048-1.296 0.048-1.952l-0.096-1.968zM512 704c-106.032 0-192-85.952-192-192s85.952-192 192-192 192 85.968 192 192c0 106.048-85.968 192-192 192z" p-id="3826"></path></svg></a><span id="busuanzi_value_page_pv"></span></div>
<div class="franklin-toc"><ol><li><a href="#queryjl">Query.jl</a><ol><li><a href="#ç®€ä»‹">ç®€ä»‹</a><ol><li><a href="#ç‹¬ç«‹æŸ¥è¯¢æ“ä½œ">ç‹¬ç«‹æŸ¥è¯¢æ“ä½œ</a></li><li><a href="#linqæ ·å¼æŸ¥è¯¢">LINQæ ·å¼æŸ¥è¯¢</a></li><li><a href="#è¡¨å’Œç¼ºå¤±å€¼">è¡¨å’Œç¼ºå¤±å€¼</a></li></ol></li><li><a href="#ç‹¬ç«‹æŸ¥è¯¢è¿ç®—ç¬¦">ç‹¬ç«‹æŸ¥è¯¢è¿ç®—ç¬¦</a><ol><li><a href="#å®map">å®@map</a></li><li><a href="#å®filter">å®@filter</a></li><li><a href="#å®groupby">å®@groupby</a></li><li><a href="#å®orderbyorderbydescendingthenbythenbydescending">å®@orderby,@orderby<em>descending,@thenby,@thenby</em>descending</a></li><li><a href="#å®groupjoin">å®@groupjoin</a></li><li><a href="#å®join">å®@join</a></li><li><a href="#å®mapmany">å®@mapmany</a></li><li><a href="#å®takedropunique">å®@takeã€@dropã€@unique</a></li><li><a href="#å®select">å®@select</a></li><li><a href="#å®rename">å®@rename</a></li><li><a href="#å®mutate">å®@mutate</a></li><li><a href="#å®dropnadissallownareplacena">å®@dropnaã€@dissallownaã€@replacena</a></li></ol></li><li><a href="#linqé£æ ¼çš„æŸ¥è¯¢å‘½ä»¤">LINQé£æ ¼çš„æŸ¥è¯¢å‘½ä»¤</a></li><li><a href="#æ•°æ®è¾“å‡º">æ•°æ®è¾“å‡º</a></li><li><a href="#å®éªŒåŠŸèƒ½">å®éªŒåŠŸèƒ½</a></li></ol></li><li><a href="#vegalitejl">VegaLite.jl</a><ol><li><a href="#è¾“å…¥æ•°æ®">è¾“å…¥æ•°æ®</a></li><li><a href="#vegalitejsä¸­æ²¡æœ‰çš„ç‰¹æ€§">VegaLite.jsä¸­æ²¡æœ‰çš„ç‰¹æ€§</a></li><li><a href="#å®vlplot">å®@vlplot</a></li><li><a href="#vlå­—ç¬¦ä¸²å®"><code>vl</code>å­—ç¬¦ä¸²å®</a></li><li><a href="#vlspecç±»å‹"><code>VLSpec</code>ç±»å‹</a></li><li><a href="#æ•°æ®ä¼ å…¥">æ•°æ®ä¼ å…¥</a></li><li><a href="#è¾“å‡º">è¾“å‡º</a></li><li><a href="#ç»˜å›¾æŠ€å·§">ç»˜å›¾æŠ€å·§</a></li></ol></li><li><a href="#datavoyagerjl">DataVoyager.jl</a></li></ol></div>

<fieldset class="hadmon admon-hack"><legend class="hadmon-legend admon-legend-hack"> Queryverse.jlç³»åˆ—å·¥å…·</legend>
  <a href="https://www.queryverse.org/">Queryverse</a>æ˜¯ä¸€ç³»åˆ—æ•°æ®å¤„ç†å·¥å…·åŒ…é›†åˆ, ç›®å‰åŒ…å«å¦‚ä¸‹å·¥å…·:</p>
<ul>
<li><p><code>Query.jl</code>: æ•°æ®å¤„ç†</p>
</li>
<li><p><code>VegaLite.jl</code>å’Œ<code>Vega.jl</code>: Vegaç”»å›¾è¯­æ³•çš„juliaå°è£…</p>
</li>
<li><p><code>DataVoyager.jl</code>: Vegaçš„Voyagerçš„juliaå°è£…</p>
</li>
<li><p><code>ElectronDisplay.jl</code>: åŸºäº<code>Electron</code>çš„å¯è§†åŒ–&#40;ä¼¼ä¹å¯¹æˆ‘ä¸å¤ªæœ‰ç”¨&#41;</p>
</li>
</ul>
<p>å®˜æ–¹æä¾›äº†ä¸€ä¸ª<code>Queryverse.jl</code>åŒ…, åŸºæœ¬åŒ…å«äº†å¸¸ç”¨çš„Juliaæ•°æ®åˆ†æç›¸å…³åŒ…:</p>
<p><fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">module Queryverse

using Reexport

@reexport using DataValues
import IterableTables
@reexport using Query
@reexport using DataTables
@reexport using DataFrames
@reexport using FileIO
@reexport using ExcelFiles
@reexport using StatFiles
@reexport using CSVFiles
@reexport using FeatherFiles
@reexport using ParquetFiles
@reexport using VegaLite
@reexport using DataVoyager

export DV

export @tee

macro tee&#40;ex&#41;
    quote
        x -&gt; begin
            x |&gt; &#36;&#40;esc&#40;ex&#41;&#41;
            return x
        end
    end
end

const DV &#61; DataValues.DataValue

end # module</code></pre>
<p><div class="code-lag">julia</div></fieldset> 
</fieldset>

<h1 id="queryjl"><a href="#queryjl" class="header-anchor">Query.jl</a></h1>
<p>åŸºæœ¬ä¸Šå¯ä»¥å¯¹Juliaä¸­ç»å¤§éƒ¨åˆ†å¯è¿­ä»£æ•°æ®ç±»å‹&#40;æ”¯æŒ<a href="https://github.com/queryverse/TableTraits.jl">TableTraits.jl</a>çš„æ•°æ®ç±»å‹, æ¶µç›–äº†æ‰€æœ‰<a href="https://github.com/queryverse/IterableTables.jl">IterableTables.jl</a>ä¸­çš„ç±»å‹&#41;åšå¤„ç†, åŒ…æ‹¬<code>filter, project, join, sort, group</code>ç­‰, Queryå—Cè¯­è¨€çš„<code>LINQ</code>å’ŒRè¯­è¨€çš„<code>dplyr</code>å¯å‘ã€‚</p>

<fieldset class="hadmon admon-tip"><legend class="hadmon-legend admon-legend-tip"> ä¸»è¦äº®ç‚¹</legend>
</p>
<ul>
<li><p>æ”¯æŒå‡ ä¹æ‰€æœ‰<code>C#è§„èŒƒ</code>çš„æŸ¥è¯¢è¡¨è¾¾å¼&#40;LINQ&#41;, è¿˜æ·»åŠ äº†é¢å¤–çš„juliaç‰¹æœ‰åŠŸèƒ½</p>
</li>
<li><p>æ”¯æŒå¤§é‡æ•°æ®æº: </p>
<p><span class="Sadmon Sadmon-tip">DataFrames.jl</span> <span class="Sadmon Sadmon-tip">Pandas.jl</span> <span class="Sadmon Sadmon-tip">IndexedTables.jl</span> <span class="Sadmon Sadmon-tip">JuliaDB.jl</span> <span class="Sadmon Sadmon-tip">TimeSeries.jl</span> <span class="Sadmon Sadmon-tip">Temporal.jl</span> <span class="Sadmon Sadmon-tip">CSVFiles.jl</span> <span class="Sadmon Sadmon-tip">ExcelFiles.jl</span> <span class="Sadmon Sadmon-tip">FeatherFiles.jl</span> <span class="Sadmon Sadmon-tip">ParquetFiles.jl</span> <span class="Sadmon Sadmon-tip">BedgraphFiles.jl</span> <span class="Sadmon Sadmon-tip">StatFiles.jl</span> <span class="Sadmon Sadmon-tip">DifferentialEquations&#40;ä»»ä½• DESolution&#41;</span> <span class="Sadmon Sadmon-tip">æ•°ç»„å’Œä»»ä½•å¯ä»¥è¿­ä»£çš„ç±»å‹</span></p>
</li>
<li><p>å¤„ç†ç»“æœå¯ä»¥å…·ç°åŒ–ä¸ºå¤šç§æ•°æ®ç»“æ„: </p>
<p><span class="Sadmon Sadmon-info">è¿­ä»£å™¨</span> <span class="Sadmon Sadmon-info">DataFrames.jl</span> <span class="Sadmon Sadmon-info">IndexedTables.jl</span> <span class="Sadmon Sadmon-info">JuliaDB.jl</span> <span class="Sadmon Sadmon-info">TimeSeries.jl</span> <span class="Sadmon Sadmon-info">Temporal.jl</span> <span class="Sadmon Sadmon-info">Pandas.jl</span> <span class="Sadmon Sadmon-info">StatsModels.jl</span> <span class="Sadmon Sadmon-info">CSVFiles.jl</span> <span class="Sadmon Sadmon-info">FeatherFiles.jl</span> <span class="Sadmon Sadmon-info">ExcelFiles.jl</span> <span class="Sadmon Sadmon-info">StatPlots.jl</span> <span class="Sadmon Sadmon-info">VegaLite.jl</span> <span class="Sadmon Sadmon-info">TableView.jl</span> <span class="Sadmon Sadmon-info">DataVoyager.jl</span> <span class="Sadmon Sadmon-info">å­—å…¸æˆ–ä»»ä½•æ•°ç»„</span></p>
</li>
<li><p>ä¸€æ¬¡å¤„ç†å¯æ··åˆå¤šä¸ªæºçš„æ•°æ®, æ¯”å¦‚å¯¹<code>DataFrame</code>å’Œ<code>CSVæ–‡ä»¶</code>è¿›è¡Œ<code>join</code>æ“ä½œ</p>
</li>
<li><p>é’ˆå¯¹ DataFrames çš„æŸ¥è¯¢æ˜¯å®Œå…¨ç±»å‹ç¨³å®šçš„</p>
</li>
<li><p>æä¾›ä¸‰ç§APIç”¨æ¥è®©åŒ…å¼€å‘è€…ä½¿ç”¨Query.jlæŸ¥è¯¢:</p>
</li>
<li><p>æœ€ç®€å•çš„API: åªéœ€ä½œè€…æä¾›ä¸€ä¸ªè¿­ä»£å™¨</p>
</li>
<li><p>æä¾›æŸ¥è¯¢çš„å®Œæ•´å›¾è¡¨ç¤º<code>query graph</code></p>
</li>
<li><p>æä¾›è‡ªå·±çš„æ•°æ®ç»“æ„, è¡¨ç¤ºä¸€ä¸ª<code>query graph</code></p>
</li>
</ul>
<p>
</fieldset>

<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="header-anchor">ç®€ä»‹</a></h2>
<p>Query.jlæ”¯æŒä¸¤ç§æŸ¥è¯¢è¯­æ³•:</p>
<ul>
<li><p>ç‹¬ç«‹æŸ¥è¯¢æ“ä½œ&#40;Standalone query operators&#41;</p>
</li>
<li><p>LINQæ ·å¼çš„æŸ¥è¯¢æ“ä½œ</p>
</li>
</ul>
<h3 id="ç‹¬ç«‹æŸ¥è¯¢æ“ä½œ"><a href="#ç‹¬ç«‹æŸ¥è¯¢æ“ä½œ" class="header-anchor">ç‹¬ç«‹æŸ¥è¯¢æ“ä½œ</a></h3>
<p>é€šè¿‡ç®¡é“è¿ç®—ç¬¦ç»„åˆæˆå¤æ‚çš„æŸ¥è¯¢:</p>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">using Query, DataFrames

df &#61; DataFrame&#40;name&#61;&#91;&quot;John&quot;, &quot;Sally&quot;, &quot;Kirk&quot;&#93;,
               age&#61;&#91;23., 42., 59.&#93;,
               children&#61;&#91;3,5,2&#93;&#41;

x &#61; df |&gt;
    @filter&#40;_.age&gt;50&#41; |&gt;
    @map&#40;&#123;_.name, _.children&#125;&#41; |&gt;
    DataFrame

println&#40;x&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<h3 id="linqæ ·å¼æŸ¥è¯¢"><a href="#linqæ ·å¼æŸ¥è¯¢" class="header-anchor">LINQæ ·å¼æŸ¥è¯¢</a></h3>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">q &#61; @from &lt;range variable&gt; in &lt;source&gt; begin
    &lt;query statements&gt;
end</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<p>å¤šä¸ªæŸ¥è¯¢æ¡ä»¶ç”¨æ¢è¡Œç¬¦åˆ†éš”, ä¸Šè¿°æŸ¥è¯¢çš„LINQæ ·å¼ä¸º:</p>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">x &#61; @from i in df begin
    @where i.age&gt;50
    @select &#123;i.name, i.children&#125;
    @collect DataFrame
    # æ³¨æ„LINQä¸­ç”¨@collect å®šä¹‰è¾“å‡ºç»“æœçš„æ ¼å¼
end
println&#40;x&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<p>LINQæŸ¥è¯¢ä¹Ÿå¯ä»¥ç®¡é“, ä½¿ç”¨<code>@query&#40;å˜é‡, æŸ¥è¯¢æ¡ä»¶å—&#41;</code>:</p>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">x &#61; df |&gt; @query&#40;i, begin
            @where i.age&gt;50
            @select &#123;i.name, i.children&#125;
        end&#41; |&gt; DataFrame
println&#40;x&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<h3 id="è¡¨å’Œç¼ºå¤±å€¼"><a href="#è¡¨å’Œç¼ºå¤±å€¼" class="header-anchor">è¡¨å’Œç¼ºå¤±å€¼</a></h3>
<ul>
<li><p>æŸ¥è¯¢ç±»ä¼¼è¡¨çš„ç»“æ„æ—¶, æ•°æ®è¢«è§†ä¸º<code>NamedTuple</code>, Queryä¸­çš„<code>&#123;&#125;</code>è¯­æ³•ç”¨äºæ–¹ä¾¿æ„é€ <code>NamedTuple</code></p>
</li>
<li><p>ç¼ºå¤±å€¼è¢«å½“ä½œæ˜¯<code>DataValue</code>ç±»å‹&#40;<a href="https://github.com/queryverse/DataValues.jl">DataValues.jl</a>&#41;</p>
<ul>
<li><p>æ‰€æœ‰è¿ç®—ç¬¦å’Œæ¯”è¾ƒç¬¦éƒ½è‡ªåŠ¨å¤„ç†ç¼ºå¤±</p>
</li>
<li><p>å¦‚æœä½¿ç”¨çš„å‡½æ•°æœ¬èº«ä¸æ”¯æŒç¼ºå¤±å€¼çš„å¤„ç†, å¯ä»¥ç”¨<code>.</code>è¿›è¡Œè¿ç®—ç¬¦æå‡</p>
</li>
</ul>
</li>
</ul>
<h2 id="ç‹¬ç«‹æŸ¥è¯¢è¿ç®—ç¬¦"><a href="#ç‹¬ç«‹æŸ¥è¯¢è¿ç®—ç¬¦" class="header-anchor">ç‹¬ç«‹æŸ¥è¯¢è¿ç®—ç¬¦</a></h2>
<h3 id="å®map"><a href="#å®map" class="header-anchor">å®@map</a></h3>
<div class="aadmon aadmon-hack"> source |&gt; @map&#40;element_selector&#41;</div>
<p><code>element_selector</code>å¿…é¡»æ˜¯åŒ¿åå‡½æ•°, æ¥æ”¶å•ä¸ªå…ƒç´ </p>
<h3 id="å®filter"><a href="#å®filter" class="header-anchor">å®@filter</a></h3>
<div class="aadmon aadmon-hack"> source |&gt; @filter&#40;filter_condition&#41;</div>
<p><code>filter_condition</code>å¿…é¡»æ˜¯åŒ¿åå‡½æ•°, è¿”å›<span class="cadmon sadmon-error">Booleanç±»å‹</span></p>
<h3 id="å®groupby"><a href="#å®groupby" class="header-anchor">å®@groupby</a></h3>
<p>ç®€å•å½¢å¼: <div class="aadmon aadmon-hack"> source |&gt; @groupby&#40;key_selector&#41;</div> <code>key_selector</code>æ˜¯åŒ¿åå‡½æ•°, ä¸ºæ¯ä¸ªè¾“å…¥å…ƒç´ è¿”å›ä¸€ä¸ªåˆ†ç»„å€¼</p>
<p>å˜ä½“å½¢å¼: <div class="aadmon aadmon-hack"> source |&gt; @groupby&#40;source, key<em>selector, element</em>selector&#41;</div> <code>element_selector</code>: åŒ¿åæŠ•å½±å‡½æ•°, å°†å…ƒç´ åˆ†ç»„ä¹‹å‰åº”ç”¨è¯¥å‡½æ•°</p>
<p><code>@groupby</code>é€šå¸¸å’Œ<code>@map</code>ä¸€èµ·ä½¿ç”¨, æŒ‰ç…§åˆ†ç»„è¿›è¡Œæ“ä½œ, ç”Ÿæˆæ–°çš„æ•°æ®ã€‚</p>
<h3 id="å®orderbyorderbydescendingthenbythenbydescending"><a href="#å®orderbyorderbydescendingthenbythenbydescending" class="header-anchor">å®@orderby,@orderby<em>descending,@thenby,@thenby</em>descending</a></h3>
<p>æ•°æ®æ’åºæ“ä½œ, æ’åºå¿…é¡»ä»¥<code>@orderbyæˆ–@orderby_descending</code>å¼€å§‹, åè¾¹å¯ä»¥æ¥å¤šä¸ª<code>@thenby,@thenby_descending</code></p>
<p><div class="aadmon aadmon-hack"> source |&gt; @orderby&#40;key_selector&#41;</div> <code>key_selector</code>:åŒ¿åå‡½æ•°, æ ¹æ®è¿”å›çš„å€¼è¿›è¡Œæ’åº</p>
<h3 id="å®groupjoin"><a href="#å®groupjoin" class="header-anchor">å®@groupjoin</a></h3>
<p><div class="aadmon aadmon-hack"> outer |&gt; @groupjoin&#40;inner, outer<em>selector, inner</em>selector, result_selector&#41;</div> </p>
<p><code>outer|inner</code>: ä»»ä½•å¯æŸ¥è¯¢çš„æº <code>outer_selector|inner_selector</code>: åŒ¿åå‡½æ•°, ä»æŒ‡å®šæºä¸­æå–å€¼ <code>result_selector</code>: åŒ¿åå‡½æ•°, æ¥å—ä¸¤ä¸ªå‚æ•°, åˆ†åˆ«æ¥è‡ªä¸¤ä¸ªæº</p>
<p>ä¾‹å­: <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">df1 &#61; DataFrame&#40;a&#61;&#91;1,2,3&#93;, b&#61;&#91;1.,2.,3.&#93;&#41;
df2 &#61; DataFrame&#40;c&#61;&#91;2,4,2&#93;, d&#61;&#91;&quot;John&quot;, &quot;Jim&quot;, &quot;Sally&quot;&#93;&#41;

x &#61; df1 |&gt; @groupjoin&#40;df2, _.a, _.c, &#123;t1&#61;_.a, t2&#61;length&#40;__&#41;&#125;&#41; |&gt; DataFrame

println&#40;x&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset></p>
<h3 id="å®join"><a href="#å®join" class="header-anchor">å®@join</a></h3>
<p>å‘½ä»¤æ ¼å¼åŒ<code>@groupjoin</code></p>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">df1 &#61; DataFrame&#40;a&#61;&#91;1,2,3&#93;, b&#61;&#91;1.,2.,3.&#93;&#41;
df2 &#61; DataFrame&#40;c&#61;&#91;2,4,2&#93;, d&#61;&#91;&quot;John&quot;, &quot;Jim&quot;,&quot;Sally&quot;&#93;&#41;

x &#61; df1 |&gt; @join&#40;df2, _.a, _.c, &#123;_.a, _.b, __.c, __.d&#125;&#41; |&gt; DataFrame

println&#40;x&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset>

<fieldset class="hadmon admon-error"><legend class="hadmon-legend admon-legend-error"> `@join`å’Œ`@groupjoin`çš„åŒºåˆ«æ˜¯å•¥?</legend>
  groupjoinç­‰äº<span class="cadmon sadmon-error">leftjoinåå†group</span>, joinåˆ™åªä¿ç•™æ‰€æœ‰æœ‰äº¤é›†çš„ç»“æœ, ä¸¾ä¸ªæ —å­: <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">df1 &#61; DataFrame&#40;a&#61;&#91;1,2,3&#93;, b&#61;&#91;1.,2.,3.&#93;&#41;
df2 &#61; DataFrame&#40;c&#61;&#91;2,4,2&#93;, d&#61;&#91;&quot;John&quot;, &quot;Jim&quot;,&quot;Sally&quot;&#93;&#41;
x &#61; df1 |&gt; @groupjoin&#40;df2, _.a, _.c, &#123;A&#61;_, B&#61;__&#125;&#41; |&gt; DataFrame # groupjoin
y &#61; df1 |&gt; @join&#40;df2, _.a, _.c, &#123;A&#61;_, B&#61;__&#125;&#41; |&gt; DataFrame # join
julia&gt; x.B # è¾“å‡ºç»“æœè·Ÿdf1çš„è¡Œæ•°ç›¸åŒ, æ²¡æœ‰äº¤é›†çš„è¡Œä¹Ÿè¾“å‡ºäº†
  3-element Vector&#123;Vector&#123;NamedTuple&#123;&#40;:c, :d&#41;, Tuple&#123;Int64, String&#125;&#125;&#125;&#125;:
   &#91;&#93;
   &#91;&#40;c &#61; 2, d &#61; &quot;John&quot;&#41;, &#40;c &#61; 2, d &#61; &quot;Sally&quot;&#41;&#93;
   &#91;&#93;
julia&gt; y.B # åªè¾“å‡ºäº†æœ‰äº¤é›†çš„è¡Œ, ä¸”é‡å¤çš„è®°å½•é€è¡Œè¾“å‡º
  2-element Vector&#123;NamedTuple&#123;&#40;:c, :d&#41;, Tuple&#123;Int64, String&#125;&#125;&#125;:
   &#40;c &#61; 2, d &#61; &quot;John&quot;&#41;
   &#40;c &#61; 2, d &#61; &quot;Sally&quot;&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset> 
</fieldset>

<h3 id="å®mapmany"><a href="#å®mapmany" class="header-anchor">å®@mapmany</a></h3>
<p><div class="aadmon aadmon-hack"> source |&gt; @mapmany&#40;collection<em>selector, result</em>selector&#41;</div> <code>collection_selector</code>: åŒ¿åå‡½æ•°, æ¥å—ä¸€ä¸ªå‚æ•°, è¿”å›ä¸€ä¸ª<span class="cadmon sadmon-error">é›†åˆ</span> <code>result_selector</code>: åŒ¿åå‡½æ•°, æ¥å—ä¸¤ä¸ªå‚æ•°</p>
<p>ä¾‹å­: <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">source &#61; Dict&#40;:a&#61;&gt;&#91;1,2,3&#93;, :b&#61;&gt;&#91;4,5&#93;&#41;

q &#61; source |&gt; @mapmany&#40;_.second, &#123;Key&#61;_.first, Value&#61;__&#125;&#41; |&gt; DataFrame

println&#40;q&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset></p>
<h3 id="å®takedropunique"><a href="#å®takedropunique" class="header-anchor">å®@takeã€@dropã€@unique</a></h3>
<p><div class="aadmon aadmon-hack"> source |&gt; @take&#40;n&#41;, <code>n</code>ä¸ºæ•´æ•°</div> <div class="aadmon aadmon-hack"> source |&gt; @drop&#40;n&#41;, <code>n</code>ä¸ºæ•´æ•°</div> <div class="aadmon aadmon-hack"> source |&gt; @unique&#40;&#41;</div> </p>
<h3 id="å®select"><a href="#å®select" class="header-anchor">å®@select</a></h3>
<p>é€‰æ‹©æŒ‡å®šåˆ—</p>
<div class="aadmon aadmon-hack"> source |&gt; @select&#40;selectors...&#41;</div>
<ul>
<li><p><code>source</code> å¯ä»¥æ˜¯ä»»ä½•å¯ä»¥æŸ¥è¯¢çš„æ¥æºã€‚</p>
</li>
<li><p><code>selectors...</code>çš„æ¯ä¸ªé€‰æ‹©å™¨éƒ½å¯ä»¥ä»<code>source</code>ä¸­é€‰æ‹©å…ƒç´ å¹¶å°†å…¶æ·»åŠ åˆ°ç»“æœé›†ä¸­ï¼Œæˆ–è€…ä»ç»“æœé›†ä¸­é€‰æ‹©å…ƒç´ å¹¶å°†å…¶åˆ é™¤ã€‚</p>
</li>
<li><p>é€‰æ‹©å™¨å¯ä»¥é€šè¿‡åç§°ã€ä½ç½®æˆ–ä½¿ç”¨è°“è¯å‡½æ•°æ¥é€‰æ‹©æˆ–åˆ é™¤å…ƒç´ ã€‚</p>
</li>
</ul>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">df &#61; DataFrame&#40;fruit&#61;&#91;&quot;Apple&quot;,&quot;Banana&quot;,&quot;Cherry&quot;&#93;,
               amount&#61;&#91;2,6,1000&#93;,
               price&#61;&#91;1.2,2.0,0.4&#93;,
               isyellow&#61;&#91;false,true,false&#93;&#41;

q1 &#61; df |&gt; @select&#40;2:3, occursin&#40;&quot;ui&quot;&#41;, -:amount&#41; |&gt; DataFrame
# 2:3 &#61;&gt; :amount, :price
# occursin&#40;&quot;ui&quot;&#41; &#61;&gt; :amount, :price, :fruit
# -:amount &#61;&gt; :price, :fruit
println&#40;q1&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<h3 id="å®rename"><a href="#å®rename" class="header-anchor">å®@rename</a></h3>
<div class="aadmon aadmon-hack"> source |&gt; @rename&#40;args...&#41;</div>
<p><code>args...</code>: é¡ºåºæ‰§è¡Œçš„é‡å‘½åæ“ä½œ&#40;<code>:raw &#61;&gt; :new</code>&#41;</p>
<code>q &#61; df |&gt; @rename&#40;:fruit &#61;&gt; :food, :price &#61;&gt; :cost, :food &#61;&gt; :name&#41; |&gt; DataFrame</code>
<h3 id="å®mutate"><a href="#å®mutate" class="header-anchor">å®@mutate</a></h3>
<div class="aadmon aadmon-hack"> source |&gt; @mutate&#40;args...&#41;</div>
<p><code>args...</code>: æŒ‡å®š<span class="cadmon sadmon-error">å…ƒç´ å</span>å’Œ<span class="cadmon sadmon-error">å€¼è½¬æ¢å…¬å¼</span>, é¡ºåºæ‰§è¡Œ</p>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">df &#61; DataFrame&#40;fruit&#61;&#91;&quot;Apple&quot;,&quot;Banana&quot;,&quot;Cherry&quot;&#93;,
               amount&#61;&#91;2,6,1000&#93;,
               price&#61;&#91;1.2,2.0,0.4&#93;,
               isyellow&#61;&#91;false,true,false&#93;&#41;

q &#61; df |&gt; @mutate&#40;price &#61; 2 * _.price &#43; _.amount, isyellow &#61; _.fruit &#61;&#61; &quot;Apple&quot;&#41; |&gt; DataFrame
println&#40;q&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<h3 id="å®dropnadissallownareplacena"><a href="#å®dropnadissallownareplacena" class="header-anchor">å®@dropnaã€@dissallownaã€@replacena</a></h3>

<fieldset class="hadmon admon-info"><legend class="hadmon-legend admon-legend-info"> `@dropna`: å»é™¤æŒ‡å®šåˆ—åŒ…å«ç¼ºå¤±çš„è¡Œ</legend>
 <div class="aadmon aadmon-hack"> source |&gt; @dropna&#40;columns...&#41;</div></p>
<p>å¦‚æœä¸å¸¦å‚æ•°è°ƒç”¨<code>@dropna</code>, å°†åˆ é™¤ä»»ä½•ä¸€åˆ—åŒ…å«<code>NA&#40;missing&#41;</code>çš„è¡Œã€‚ 
</fieldset>


<fieldset class="hadmon admon-info"><legend class="hadmon-legend admon-legend-info"> `@dissallowna`: å°†æŒ‡å®šåˆ—çš„æ•°æ®è½¬æ¢æˆä¸å…è®¸æœ‰ç¼ºå¤±çš„ç±»å‹</legend>
 <div class="aadmon aadmon-hack"> source |&gt; @dissallowna&#40;columns...&#41;</div> 
</fieldset>


<fieldset class="hadmon admon-info"><legend class="hadmon-legend admon-legend-info"> `@replacena`: æ›¿æ¢æŒ‡å®šåˆ—çš„ç¼ºå¤±å€¼ä¸ºæŒ‡å®šå€¼</legend>
  <strong>ç®€å•ç‰ˆ:</strong></p>
<p><div class="aadmon aadmon-hack"> source |&gt; @replacena&#40;replacement_value&#41;</div> å…¶ä¸­<code>replacement_value</code>æ˜¯å€¼, ç®€å•ç‰ˆåªé€‚ç”¨äºæ‰€æœ‰åˆ—éƒ½æ‰¹é‡æ›¿æ¢æˆåŒä¸€ä¸ªå€¼çš„æƒ…å½¢</p>
<p><strong>å®Œæ•´ç‰ˆ:</strong></p>
<p>å½“ä¸åŒçš„åˆ—éœ€è¦ä¸åŒçš„æ›¿æ¢é€»è¾‘æ—¶, è¦ç”¨å®Œæ•´ç‰ˆ: <div class="aadmon aadmon-hack"> source |&gt; @replacena&#40;replacement_specifier...&#41;</div></p>
<p><code>replacement_specifier...</code>: æ˜¯<code>column_name &#61;&gt; replacement_value</code>çš„é”®å€¼å¯¹ 
</fieldset>

<h2 id="linqé£æ ¼çš„æŸ¥è¯¢å‘½ä»¤"><a href="#linqé£æ ¼çš„æŸ¥è¯¢å‘½ä»¤" class="header-anchor">LINQé£æ ¼çš„æŸ¥è¯¢å‘½ä»¤</a></h2>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">using Query, DataFrames

# Sorting:
# @orderby &lt;attribute&gt;&#91;, &lt;attribute&gt;&#93;
df &#61; DataFrame&#40;a&#61;&#91;2,1,1,2,1,3&#93;,b&#61;&#91;2,2,1,1,3,2&#93;&#41;
x &#61; @from i in df begin
    @orderby descending&#40;i.a&#41;, i.b
    @select i
    @collect DataFrame
end

# Filtering
# @where &lt;condition&gt;
df &#61; DataFrame&#40;name&#61;&#91;&quot;John&quot;, &quot;Sally&quot;, &quot;Kirk&quot;&#93;, age&#61;&#91;23., 42., 59.&#93;, children&#61;&#91;3,5,2&#93;&#41;
x &#61; @from i in df begin
    @where i.age &gt; 30. &amp;&amp; i.children &gt; 2
    @select i
    @collect DataFrame
end

# Projecting
# @select &lt;condition&gt;
data &#61; &#91;1,2,3&#93;
x &#61; @from i in data begin
    @select i^2
    @collect
end
# queryä¸­åº”ç”¨&#96;&#123;&#125;&#96;å¯ä»¥å°†å…ƒç´ è½¬æ¢æˆå‘½åå…ƒç»„
df &#61; DataFrame&#40;name&#61;&#91;&quot;John&quot;, &quot;Sally&quot;, &quot;Kirk&quot;&#93;, age&#61;&#91;23., 42., 59.&#93;, children&#61;&#91;3,5,2&#93;&#41;
x &#61; @from i in df begin
    @select &#123;i.name, Age&#61;i.age&#125; # ä¸å®šä¹‰åç§°æ—¶, è‡ªåŠ¨æ¨æ–­name; æ˜¾å¼å£°æ˜åç§°Age;
    @collect DataFrame
end

# Flattening
# ä½¿ç”¨å¤šä¸ª@fromå®ç°:
# @from &lt;range_var&gt; in &lt;selector&gt;
source &#61; Dict&#40;:a&#61;&gt;&#91;1,2,3&#93;, :b&#61;&gt;&#91;4,5&#93;&#41;
q &#61; @from i in source begin
    @from j in i.second
    @select &#123;Key&#61;i.first,Value&#61;j&#125;
    @collect DataFrame
end

# Joining
# @join &lt;range variable&gt; in &lt;source&gt; on &lt;left key&gt; equals &lt;right key&gt;
df1 &#61; DataFrame&#40;a&#61;&#91;1,2,3&#93;, b&#61;&#91;1.,2.,3.&#93;&#41;
df2 &#61; DataFrame&#40;c&#61;&#91;2,4,2&#93;, d&#61;&#91;&quot;John&quot;, &quot;Jim&quot;,&quot;Sally&quot;&#93;&#41;

x &#61; @from i in df1 begin
    @join j in df2 on i.a equals j.c
    @select &#123;i.a,i.b,j.c,j.d&#125;
    @collect DataFrame
end

# Group join
# @join &lt;range variable&gt; in &lt;source&gt; on &lt;left key&gt; equals &lt;right key&gt; into &lt;group variable&gt;
df1 &#61; DataFrame&#40;a&#61;&#91;1,2,3&#93;, b&#61;&#91;1.,2.,3.&#93;&#41;
df2 &#61; DataFrame&#40;c&#61;&#91;2,4,2&#93;, d&#61;&#91;&quot;John&quot;, &quot;Jim&quot;,&quot;Sally&quot;&#93;&#41;

x &#61; @from i in df1 begin
    @join j in df2 on i.a equals j.c into k
    @select &#123;t1&#61;i.a,t2&#61;length&#40;k&#41;&#125;
    @collect DataFrame
end

# Left outer join
# @left_outer_join &lt;range variable&gt; in &lt;source&gt; on &lt;left key&gt; equals &lt;right key&gt;
source_df1 &#61; DataFrame&#40;a&#61;&#91;1,2,3&#93;, b&#61;&#91;1.,2.,3.&#93;&#41;
source_df2 &#61; DataFrame&#40;c&#61;&#91;2,4,2&#93;, d&#61;&#91;&quot;John&quot;, &quot;Jim&quot;,&quot;Sally&quot;&#93;&#41;

q &#61; @from i in source_df1 begin
    @left_outer_join j in source_df2 on i.a equals j.c
    @select &#123;i.a,i.b,j.c,j.d&#125;
    @collect DataFrame
end

# Grouping
# @group &lt;element selector&gt; by &lt;key selector&gt; &#91;into &lt;range variable&gt;&#93;
df &#61; DataFrame&#40;name&#61;&#91;&quot;John&quot;, &quot;Sally&quot;, &quot;Kirk&quot;&#93;, age&#61;&#91;23., 42., 59.&#93;, children&#61;&#91;3,2,2&#93;&#41;
x &#61; @from i in df begin
    @group i.name by i.children
    @collect
end
# with into:
df &#61; DataFrame&#40;name&#61;&#91;&quot;John&quot;, &quot;Sally&quot;, &quot;Kirk&quot;&#93;, age&#61;&#91;23., 42., 59.&#93;, children&#61;&#91;3,2,2&#93;&#41;
x &#61; @from i in df begin
    @group i by i.children into g
    @select &#123;Key&#61;key&#40;g&#41;,Count&#61;length&#40;g&#41;&#125;
    @collect DataFrame
end

# Split-Apply-Combine a.k.a dplyr
# @select new_var &#61; agg_fun&#40;g.var&#41;
# agg_funæ˜¯èšåˆå‡½æ•°, å¦‚mean, gæ˜¯åˆ†ç»„, varæ˜¯è¦æ±‡æ€»çš„åˆ—
df &#61; DataFrame&#40;name&#61;repeat&#40;&#91;&quot;John&quot;, &quot;Sally&quot;, &quot;Kirk&quot;&#93;,
               inner&#61;&#91;1&#93;,outer&#61;&#91;2&#93;&#41;, 
               age&#61;vcat&#40;&#91;10., 20., 30.&#93;,&#91;10., 20., 30.&#93;.&#43;3&#41;, 
               children&#61;repeat&#40;&#91;3,2,2&#93;,inner&#61;&#91;1&#93;,outer&#61;&#91;2&#93;&#41;,
               state&#61;&#91;:a,:a,:a,:b,:b,:b&#93;&#41;

x &#61; @from i in df begin
    @group i by i.state into g
    @select &#123;group&#61;key&#40;g&#41;,mage&#61;mean&#40;g.age&#41;, oldest&#61;maximum&#40;g.age&#41;, youngest&#61;minimum&#40;g.age&#41;&#125;
    @collect DataFrame
end

# Range variables
# @let &lt;range variable&gt; &#61; &lt;value selector&gt;
df &#61; DataFrame&#40;name&#61;&#91;&quot;John&quot;, &quot;Sally&quot;, &quot;Kirk&quot;&#93;,
               age&#61;&#91;23., 42., 59.&#93;, 
               children&#61;&#91;3,2,2&#93;&#41;

x &#61; @from i in df begin
    @let count &#61; length&#40;i.name&#41;
    @let kids_per_year &#61; i.children / i.age
    @where count &gt; 4
    @select &#123;Name&#61;i.name, Count&#61;count, KidsPerYear&#61;kids_per_year&#125;
    @collect DataFrame
end</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<h2 id="æ•°æ®è¾“å‡º"><a href="#æ•°æ®è¾“å‡º" class="header-anchor">æ•°æ®è¾“å‡º</a></h2>
<div class="aadmon aadmon-info"> @collect &lt;TableType&gt;</div>
<ul>
<li><p><code>TableType</code>: å¯ä»¥æ˜¯<code>DataFrame</code>,<code>DataTable</code>æˆ–è€…<code>TypedTable</code></p>
</li>
<li><p><code>@collect</code>ä¸å¸¦å‚æ•°åˆ™è¾“å‡º<code>array</code>ç±»å‹</p>
</li>
<li><p><code>TableType</code>å¯ä»¥æ˜¯<code>dict</code>, ä½†åªåœ¨è¾“å‡ºç»“æœæ˜¯<code>Pair</code>çš„æ—¶å€™æœ‰æ•ˆ</p>
</li>
<li><p><code>TableType</code>è¿˜å¯ä»¥æ˜¯<code>TimeArray</code>,<code>TS</code>&#40;<code>Temporal.TS</code>&#41;,<code>IndexedTable</code>, å…·ä½“ç•¥ã€‚</p>
</li>
</ul>
<h2 id="å®éªŒåŠŸèƒ½"><a href="#å®éªŒåŠŸèƒ½" class="header-anchor">å®éªŒåŠŸèƒ½</a></h2>
<p>å¯èƒ½ä¼šåœ¨æœªæ¥ç‰ˆæœ¬ä¸­æ”¹åŠ¨æˆ–æ¶ˆå¤±çš„åŠŸèƒ½:</p>
<ul>
<li><p>Sourceå¯ä»¥ä½œä¸ºç‹¬ç«‹æŸ¥è¯¢çš„ç¬¬ä¸€ä¸ªå‚æ•°: <code>source |&gt; @map&#40;_&#41;</code>å’Œ<code>@map&#40;source,_&#41;</code>ç­‰ä»·</p>
</li>
<li><p>åœ¨ç‹¬ç«‹æŸ¥è¯¢å‘½ä»¤ä¸­, <code>_</code>è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°, <code>__</code>è¡¨ç¤ºç¬¬äºŒä¸ªå‚æ•°, å¦‚æœåŒæ—¶ä½¿ç”¨äº†<code>_</code>å’Œ<code>__</code>, queryä¼šè‡ªåŠ¨åˆ›å»ºå¸¦æœ‰ä¸¤ä¸ªå‚æ•°çš„åŒ¿åå‡½æ•°:</p>
</li>
</ul>
<div class="indent-block" style="margin-left: 2em !important"> <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">df_parents &#61; DataFrame&#40;Name&#61;&#91;&quot;John&quot;, &quot;Sally&quot;&#93;&#41;
df_children &#61; DataFrame&#40;Name&#61;&#91;&quot;Bill&quot;, &quot;Joe&quot;, &quot;Mary&quot;&#93;, Parent&#61;&#91;&quot;John&quot;, &quot;John&quot;, &quot;Sally&quot;&#93;&#41;

df_parents |&gt; @join&#40;df_children, _.Name, _.Parent, &#123;Parent&#61;_.Name, Child&#61;__.Name&#125;&#41; |&gt; DataFrame</code></pre>
<p><div class="code-lag">julia</div></fieldset> </div>
<ul>
<li><p><code>@unique</code>çš„è‡ªå®šä¹‰é€‰æ‹©å™¨: <code>source |&gt; @unique&#40;abs&#40;_&#41;&#41; |&gt; collect</code></p>
</li>
</ul>
<h1 id="vegalitejl"><a href="#vegalitejl" class="header-anchor">VegaLite.jl</a></h1>

<fieldset class="hadmon admon-note"><legend class="hadmon-legend admon-legend-note"> VegaLite</legend>
  VegaLiteæ˜¯åŸºäºjsonçš„æ•°æ®å¯è§†åŒ–è¯­æ³•, åœ¨<a href="/notebooks/VegaLite">è¿™é‡Œ</a>æœ‰è¯¦ç»†çš„ä»‹ç»ã€‚<code>VegaLite.jl</code>æ˜¯å¯¹VegaLiteçš„å°è£…, æ—¨åœ¨æ›´æ–¹ä¾¿åœ°åœ¨juliaä¸­è¿›è¡ŒåŸºäºVegaLiteçš„ç”»å›¾, è¿™é‡Œåªä»‹ç»juliaä¸­çš„ä¸€äº›ç”¨æ³•, VegaLiteçš„è¯­æ³•ä¸å†èµ˜è¿°ã€‚ 
</fieldset>

<h2 id="è¾“å…¥æ•°æ®"><a href="#è¾“å…¥æ•°æ®" class="header-anchor">è¾“å…¥æ•°æ®</a></h2>
<ul>
<li><p>DataFrame</p>
</li>
<li><p>JuliaDB</p>
</li>
<li><p>CSVFiles</p>
</li>
<li><p>VegaDatasets</p>
</li>
</ul>
<h2 id="vegalitejsä¸­æ²¡æœ‰çš„ç‰¹æ€§"><a href="#vegalitejsä¸­æ²¡æœ‰çš„ç‰¹æ€§" class="header-anchor">VegaLite.jsä¸­æ²¡æœ‰çš„ç‰¹æ€§</a></h2>
<ul>
<li><p>ç»˜å›¾ç»“æœåœ¨juliaä¸­ä¿å­˜ä¸º<code>VLSpec</code>ç±»å‹çš„å¯¹è±¡</p>
</li>
<li><p>ç”¨<code>@vlplot</code>å®æˆ–è€…<code>vl</code>å­—ç¬¦ä¸²å®åˆ›å»º<code>VLSpec</code>å¯¹è±¡</p>
</li>
<li><p>é‡è½½äº†<code>load</code>å‡½æ•°, åŠ è½½VagaLiteçš„jsonæ–‡ä»¶ä¸º<code>VLSpec</code></p>
</li>
<li><p>é‡è½½äº†<code>save</code>å‡½æ•°, ç”¨äºè¾“å‡º<code>VLSpec</code>ä¸ºå›¾åƒ:</p>
</li>
</ul>
<div class="indent-block" style="margin-left: 2em !important"> <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">dataset&#40;&quot;cars&quot;&#41; |&gt; 
    @vlplot&#40;:bar, x&#61;&quot;count&#40;&#41;&quot;, y&#61;:Origin&#41; |&gt;
    save&#40;&quot;myplot.pdf&quot;&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset> </div>
<h2 id="å®vlplot"><a href="#å®vlplot" class="header-anchor">å®@vlplot</a></h2>
<p>åŸºæœ¬ä¸VegaLiteçš„jsonè¯­æ³•ä¸€è‡´, ä½†æ˜¯æä¾›äº†ä¸€äº›ç®€ä¾¿çš„å†™æ³•:</p>

<table id="lov"><tr>
<td id="lov" height=90% style="width:50%">
 <fieldset class="code code-json"><legend class="code-legend code-legend-json">json</legend></p>
<pre><code class="language-json">// VegaLite jsonè¯­æ³•
&#123;
  &quot;data&quot;: &#123;
    &quot;values&quot;: &#91;
      &#123;&quot;a&quot;: &quot;A&quot;,&quot;b&quot;: 28&#125;, &#123;&quot;a&quot;: &quot;B&quot;,&quot;b&quot;: 55&#125;, &#123;&quot;a&quot;: &quot;C&quot;,&quot;b&quot;: 43&#125;,
      &#123;&quot;a&quot;: &quot;D&quot;,&quot;b&quot;: 91&#125;, &#123;&quot;a&quot;: &quot;E&quot;,&quot;b&quot;: 81&#125;, &#123;&quot;a&quot;: &quot;F&quot;,&quot;b&quot;: 53&#125;,
      &#123;&quot;a&quot;: &quot;G&quot;,&quot;b&quot;: 19&#125;, &#123;&quot;a&quot;: &quot;H&quot;,&quot;b&quot;: 87&#125;, &#123;&quot;a&quot;: &quot;I&quot;,&quot;b&quot;: 52&#125;
    &#93;
  &#125;,
  &quot;mark&quot;: &quot;bar&quot;,
  &quot;encoding&quot;: &#123;
    &quot;x&quot;: &#123;&quot;field&quot;: &quot;a&quot;, &quot;type&quot;: &quot;ordinal&quot;&#125;,
    &quot;y&quot;: &#123;&quot;field&quot;: &quot;b&quot;, &quot;type&quot;: &quot;quantitative&quot;&#125;
  &#125;
&#125;</code></pre>
<p><div class="code-lag">json</div></fieldset> 
</td>
<td id="lov" width="50%" height=90% align="left">
 <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia"># @vlplotè¯­æ³•
@vlplot&#40;
    data&#61;&#123;
        values&#61;&#91;
            &#123;a&#61;&quot;A&quot;,b&#61;28&#125;,&#123;a&#61;&quot;B&quot;,b&#61;55&#125;,&#123;a&#61;&quot;C&quot;,b&#61;43&#125;,
            &#123;a&#61;&quot;D&quot;,b&#61;91&#125;,&#123;a&#61;&quot;E&quot;,b&#61;81&#125;,&#123;a&#61;&quot;F&quot;,b&#61;53&#125;,
            &#123;a&#61;&quot;G&quot;,b&#61;19&#125;,&#123;a&#61;&quot;H&quot;,b&#61;87&#125;,&#123;a&#61;&quot;I&quot;,b&#61;52&#125;
        &#93;
    &#125;,
    mark&#61;&quot;bar&quot;,
    encoding&#61;&#123;
        x&#61;&#123;field&#61;&quot;a&quot;, type&#61;&quot;ordinal&quot;&#125;,
        y&#61;&#123;field&#61;&quot;b&quot;, type&#61;&quot;quantitative&quot;&#125;
    &#125;
&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset> 
</td>
</tr></table>

<ul>
<li><p>ç§»é™¤äº†æœ€å¤–ä¾§çš„<code>&#123;&#125;</code></p>
</li>
<li><p>å†’å·åˆ†éš”æ”¹ä¸ºç”¨<code>&#61;</code>é”®å€¼å¯¹åˆ†éš”;</p>
</li>
<li><p>é”®ä¸ç”¨å¼•å·, å·¦ä¾§ç›´æ¥ç”¨å­—æ¯, å³ä¾§å¯ä»¥ç”¨<code>symbol</code>: <code>mark&#61;:bar</code></p>
</li>
<li><p>JSONä¸­çš„<code>null</code><span class="cadmon sadmon-error">åº”è¯¥æ›¿æ¢ä¸º</span>Juliaä¸­çš„<code>nothing</code></p>
</li>
<li><p>æä¾›ä¸pythonçš„<code>Altair</code>ä¸­ç±»ä¼¼çš„ç¼–ç é€Ÿè®°ç”¨æ³•</p>
</li>
</ul>

<fieldset class="hadmon admon-note"><legend class="hadmon-legend admon-legend-note"> ç¼–ç é€Ÿè®°å­—ç¬¦ä¸²è¯­æ³•</legend>
</p>
<ul>
<li><p><code>field</code>å’Œ<code>type</code>çš„æ˜ å°„å¯ä»¥ç›´æ¥å†™æˆ<code>field:type</code>:</p>
</li>
</ul>
<div class="indent-block" style="margin-left: 2em !important"> <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">x&#61;&#123;field&#61;:a, type&#61;:ordinal&#125;
# å¯ä»¥å†™æˆ
x&#61;&#123;&quot;a:o&quot;&#125;</code></pre>
<p><div class="code-lag">julia</div></fieldset> æ³¨æ„: å­—ç¬¦ä¸²ç®€å†™å¿…é¡»ä½œä¸º<code>&#123;&#125;</code>ä¸­çš„ç¬¬ä¸€ä¸ªä½ç½®å‚æ•°å‡ºç° </div>
<ul>
<li><p><code>timeUnit</code>å’Œ<code>aggregate</code>ä¸­çš„èšåˆå‡½æ•°, ä¹Ÿå¯ä»¥ç”¨ç®€å†™è¯­æ³•:</p>
</li>
</ul>
<div class="indent-block" style="margin-left: 2em !important"> <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia"># aggregate:
x&#61;&#123;field&#61;:foo, aggregate&#61;:mean, type&#61;:quantitative&#125;
# å¯ä»¥ç®€å†™æˆ:
x&#61;&#123;&quot;mean&#40;foo&#41;&quot;&#125; # é»˜è®¤aggregateçš„ç»“æœå°±æ˜¯quantitative

# timeUnit:
x&#61;&#123;field&#61;:foo, timeUnit&#61;:year, type&#61;:quantitative&#125;
# å¯ä»¥ç®€å†™æˆ:
x&#61;&#123;&quot;year&#40;foo&#41;:t&quot;&#125;</code></pre>
<p><div class="code-lag">julia</div></fieldset> </div>
<ul>
<li><p>å¦‚æœå­—ç¬¦ä¸²ç®€å†™åä¸åŠ å…¶ä»–å±æ€§,åˆ™å¯ä»¥çœç•¥<code>&#123;&#125;</code>: <code>x&#61;&quot;foo:q&quot;</code>ç­‰åŒäº<code>x&#61;&#123;field&#61;:foo, type&#61;:quantitative&#125;</code>, å¦‚æœä¸æƒ³æŒ‡å®šç±»å‹, è¿˜å¯ä»¥ç›´æ¥ç”¨<code>Symbol</code>: <code>x&#61;:foo</code></p>
</li>
<li><p><code>encoding</code>çš„ç®€å†™</p>
<ul>
<li><p><code>encoding</code>å¯ä»¥å†™æˆ<code>enc</code></p>
</li>
<li><p>æ›´ç®€å•çš„, å¯ä»¥æŠŠ<code>encoding</code>çš„å†…å®¹ç›´æ¥å†™åœ¨é¡¶å±‚: <code>@vlplot&#40;mark&#61;:point, x&#61;&quot;a:o&quot;, y&#61;:b&#41;</code></p>
</li>
</ul>
</li>
<li><p><code>mark</code>çš„ç®€å†™</p>
<ul>
<li><p>ç”¨ç¬¬ä¸€ä¸ªä½ç½®å‚æ•°è¡¨ç¤º<code>mark</code>: <code>@vlplot&#40;:point, x&#61;&quot;a:o&quot;, y&#61;:b&#41;</code></p>
</li>
<li><p>ç”¨<code>&#123;&#125;</code>æŒ‡å®šæ›´å¤šæ ‡è®°å±æ€§, å°†ç±»å‹ä½œä¸º<code>&#123;&#125;</code>å†…ç¬¬ä¸€ä¸ªä½ç½®å‚æ•°<code>mark&#61;&#123;:point, color&#61;:red&#125;</code></p>
</li>
</ul>
</li>
<li><p><code>x</code>å’Œ<code>y</code>çš„ç®€å†™</p>
<ul>
<li><p>å¯ä»¥ä½œä¸º<code>@vlplot</code>çš„ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªä½ç½®å‚æ•°ä¼ é€’: <code>@vlplot&#40;:point, :colA, :colB&#41;</code></p>
</li>
</ul>
</li>
</ul>
<p>
</fieldset>

<h2 id="vlå­—ç¬¦ä¸²å®"><a href="#vlå­—ç¬¦ä¸²å®" class="header-anchor"><code>vl</code>å­—ç¬¦ä¸²å®</a></h2>
<div class="aadmon aadmon-hack"> <code>spec &#61; vl&quot;&quot;&quot;&lt;raw Vega-Lite json&gt;&quot;&quot;&quot;</code></div>
<ul>
<li><p><code>Vega.printrepr</code>å¯ä»¥å°†<code>JSON</code>è½¬æ¢æˆ<code>@vlplot</code>æ ¼å¼çš„ä½œå›¾è¯­æ³•è¾“å‡º</p>
</li>
</ul>
<h2 id="vlspecç±»å‹"><a href="#vlspecç±»å‹" class="header-anchor"><code>VLSpec</code>ç±»å‹</a></h2>
<p>VegaLiteçš„å±æ€§å¯ä»¥ä½œä¸º<code>VLSpec</code>çš„å¯¹åº”å±æ€§è¿›è¡Œè®¿é—®: <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">spec &#61; data&#40;&quot;cars&quot;&#41; |&gt; @vlplot&#40;:point, x&#61;:Acceleration, y&#61;:Cylinders&#41;
spec.mark
spec.encoding.x.field
# ä½¿ç”¨Setfiled.jl/Accessors.jlçš„@setæ›´æ”¹å±æ€§:
using Setfield  # imports &#96;@set&#96; etc.
spec2 &#61; @set spec.mark &#61; :line
spec3 &#61; @set spec2.encoding.y.field &#61; &quot;Miles_per_Gallon&quot;</code></pre>
<p><div class="code-lag">julia</div></fieldset></p>
<h2 id="æ•°æ®ä¼ å…¥"><a href="#æ•°æ®ä¼ å…¥" class="header-anchor">æ•°æ®ä¼ å…¥</a></h2>
<ul>
<li><p>ç®¡é“: <code>df |&gt; @filter&#40;_.a&gt;30&#41; |&gt; @vlplot&#40;:point, x&#61;:a, y&#61;:b&#41;</code></p>
</li>
<li><p><code>data</code>å…³é”®å­—: <code>@vlplot&#40;:point, data&#61;df, x&#61;:a, y&#61;:b&#41;</code></p>
</li>
<li><p>ç›´æ¥ä¼ é€’æ•°æ®å‘é‡: <code>@vlplot&#40;:line, x&#61;1:10, y&#61;&#123;randn&#40;10&#41;, title&#61;&quot;XXX&quot;&#125;&#41;</code></p>
</li>
<li><p>å¼•ç”¨å¤–éƒ¨æ•°æ®<code>uri</code>&#40;åŸºäº<a href="https://github.com/JuliaWeb/URIParser.jl">URIParser.jl</a>&#41;å’Œ<code>Path</code>&#40;åŸºäº<a href="https://github.com/rofinn/FilePaths.jl">FilePaths.jl</a>&#41;:</p>
</li>
</ul>
<div class="indent-block" style="margin-left: 2em !important"> <fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">using FilePaths, URIParsing

p&quot;xxx/yyy/zzz.csv&quot; |&gt; @vlplot&#40;:point, :a, :b&#41;
URI&#40;&quot;https://www.xxx.com/yyy.csv&quot;&#41; |&gt; @vlplot&#40;:point, :a, :b&#41;

@vlplot&#40;:point, data&#61;p&quot;subfolder/file.csv&quot;, x&#61;:a, y&#61;:b&#41;
@vlplot&#40;:point, data&#61;URI&#40;&quot;https://www.foo.com/bar.json&quot;&#41;, x&#61;:a, y&#61;:b&#41;

@vlplot&#40;
    :point,
    data&#61;&#123;
        url&#61;p&quot;subfolder/foo.txt&quot;,
        format&#61;&#123;type&#61;:csv&#125;
    &#125;,
    x&#61;:a,
    y&#61;:b
&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset> </div>
<h2 id="è¾“å‡º"><a href="#è¾“å‡º" class="header-anchor">è¾“å‡º</a></h2>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia"># æ ¹æ®åç¼€ååˆ¤æ–­è¾“å‡ºæ–‡ä»¶æ ¼å¼
p |&gt; save&#40;&quot;figure.png&quot;&#41;
p |&gt; save&#40;&quot;figure.svg&quot;&#41;
p |&gt; save&#40;&quot;figure.pdf&quot;&#41;
p |&gt; save&#40;&quot;figure.eps&quot;&#41;
p |&gt; save&#40;&quot;figure.vegalite&quot;&#41;

save&#40;&quot;figure.png&quot;, p&#41;
save&#40;&quot;figure.svg&quot;, p&#41;
save&#40;&quot;figure.pdf&quot;, p&#41;
save&#40;&quot;figure.eps&quot;, p&#41;
save&#40;&quot;figure.html&quot;, p&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset>
<h2 id="ç»˜å›¾æŠ€å·§"><a href="#ç»˜å›¾æŠ€å·§" class="header-anchor">ç»˜å›¾æŠ€å·§</a></h2>
<ul>
<li><p>åªå°†å¿…è¦çš„åˆ—ä¼ é€’ç»™<code>@vlplot</code></p>
</li>
</ul>
<h1 id="datavoyagerjl"><a href="#datavoyagerjl" class="header-anchor">DataVoyager.jl</a></h1>
<p>å°†Juliaçš„Dataç›´æ¥ä¼ é€’ç»™<a href="https://github.com/vega/voyager">Voyager</a>è¿›è¡Œäº¤äº’å¼æ•°æ®æ¢ç´¢:</p>
<fieldset class="code code-julia"><legend class="code-legend code-legend-julia">julia</legend></p>
<pre><code class="language-julia">using DataFrames, DataVoyager

data &#61; DataFrame&#40;a&#61;rand&#40;100&#41;, b&#61;randn&#40;100&#41;&#41;

v1 &#61; data |&gt; Voyager&#40;&#41;
v2 &#61; Voyager&#40;data&#41;

# ç”¨ &#96;&#91;&#93;&#96; æå–ä½œå›¾ç»“æœ:
plot1 &#61; v1&#91;&#93; # plot1 is a VLSpec
# ä¿å­˜å’Œé‡è½½:
v&#91;&#93; |&gt; save&#40;&quot;figure1.vegalite&quot;&#41;
dataset&#40;&quot;cars&quot;&#41; |&gt; load&#40;&quot;figure1.vegalite&quot;&#41;</code></pre>
<p><div class="code-lag">julia</div></fieldset>


</div>
<!-- article style -->


 <hr>

<script src="https://utteranc.es/client.js"
    repo="songtaogui/blog_comments"
    issue-term="pathname"
    theme="github-light"
    crossorigin="anonymous"
    async>
</script>


<hr> 

<div class="container">
    
    <footer class="site-footer">
        <p class="powered-by">
          <script type="text/javascript" src="//rf.revolvermaps.com/0/0/4.js?i=5jnkqismgmy&amp;m=5&amp;h=128&amp;c=baff00&amp;r=0" async="async"></script><br>
            Total visits: <span id="busuanzi_value_site_pv"></span>.<br>
            Built with <a href="https://franklinjl.org" target="_blank" rel="noopener">Franklin.jl</a> and <a
                href="https://julialang.org" target="_blank" rel="noopener">Julia</a>.<br>
            Texts are licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.<br>
            Codes are licensed under the <a href="https://mit-license.org/">MIT License</a>.<br>
            <strong>&copy; Songtao Gui</strong>. Last modified: August 16, 2023.
          </p>
    </footer>
    
</div>
</div>


</div>
<!--article container -->
</article>


<!-- CONTENT ENDS HERE -->

 <script src="/libs/highlight/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>
 

<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js
    integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js
    integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js
    integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script>
<script src="/libs/academic/academic.min.js"></script>
<script src="/libs/pure/ui.js"></script>

</body>


 <a class="js-back-to-top back-to-top-button" href="#">
    <img src="/assets/img/up.svg" style="width: 100px;">
</a>
<!-- <button class="js-back-to-top back-to-top-button" title="BackToTop">ï¸½</button> -->
<script src="https://cdn.staticfile.org/jquery/2.2.4/jquery.min.js"></script>
<script>
    $(function () {
        var $win = $(window);
        var $backToTop = $('.js-back-to-top');
        // å½“ç”¨æˆ·æ»šåŠ¨åˆ°ç¦»é¡¶éƒ¨100åƒç´ æ—¶ï¼Œå±•ç¤ºå›åˆ°é¡¶éƒ¨æŒ‰é’®
        $win.scroll(function () {
            if ($win.scrollTop() > 100) {
                $backToTop.show();
            } else {
                $backToTop.hide();
            }
        });
        // å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œé€šè¿‡åŠ¨ç”»æ•ˆæœè¿”å›å¤´éƒ¨
        $backToTop.click(function () {
            $('html, body').animate({
                scrollTop: 0
            }, 200);
        });
    });
</script>
<style>
    /* back to top button */
    .back-to-top-button {
        display: none;
        position: fixed;
        width: 50px;
        bottom: 3%;
        right: 3%;
        z-index: 99;
        font-size: 15px;
        border: 0px solid #696969;
        background-color: #fff;
        color: #222222;
        outline: none;
        cursor: pointer;
        padding: 7px;
        border-radius: 40px;
    }

    .back-to-top-button:hover {
        background-color: #c0dbf5;
        color: #fff;
    }
</style> 


<!-- PJAXé…ç½®: å…ˆä¸æäº†! -->
<!--   
  <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script>
  
  <script>
    var pjax = new Pjax({
      elements: "a",
      selectors: [
        "title",
        "meta[name=description]",
        ".the-header",
        ".the-content",
        ".the-sidebar",
      ]
    })
  </script> -->

</html>



